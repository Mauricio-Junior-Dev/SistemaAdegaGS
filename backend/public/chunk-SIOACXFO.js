import{a as Vi}from"./chunk-4ZPTD6UY.js";import{a as Ri}from"./chunk-VVA3DBTJ.js";import{b as Bi}from"./chunk-IFH65TZW.js";import{a as Ze}from"./chunk-55RTUHFP.js";import{a as Ai}from"./chunk-SMM3PTEC.js";import{a as Ti,b as Di}from"./chunk-MA64ECIA.js";import{a as Ii}from"./chunk-ABD54CR7.js";import{a as ki}from"./chunk-UIGNPBHV.js";import"./chunk-EYVEXPNH.js";import{a as de,b as me}from"./chunk-ROER2RFV.js";import{a as q,b as K,c as Fi,e as pe,f as ue,g as ge,h as N}from"./chunk-NJG33T2I.js";import{d as Xe}from"./chunk-W6W5QBSK.js";import"./chunk-F5X5MWHG.js";import{a as Ke,b as J}from"./chunk-AIXKBXYS.js";import"./chunk-MS4AQ6UA.js";import{a as vi,b as yi,c as bi,d as Ue,e as Mi,f as Si,g as yt,h as Pi,i as Oi}from"./chunk-U7CDANII.js";import{a as Q,b as Ye,d as xi,e as G,g as Ci,h as H,i as Y,m as U,n as X}from"./chunk-RHC5ILWF.js";import"./chunk-XTFDZCPR.js";import{a as $e,b as Qe,c as Ge,d as hi,f as He,g as Z}from"./chunk-ZHIFTSGJ.js";import"./chunk-HTFI32IU.js";import"./chunk-C4KZ6I4Q.js";import{a as Ei,b as wi}from"./chunk-EQKA6Y5K.js";import{a as li,b as oe,c as ae}from"./chunk-OBC24UR6.js";import{a as pi,e as Ve,h as ui}from"./chunk-CEPC3JHI.js";import{b as ci,m as di,n as mi}from"./chunk-FIIM6QS2.js";import{a as We}from"./chunk-BMWWS6T6.js";import{a as fi}from"./chunk-AFZTW5RE.js";import{a as R,b as B}from"./chunk-6R7SEWBP.js";import{D as Ct,E as De,T as Fe,U as si,W as vt,Y as F,_ as V,d as ti,e as ii,g as ni,p as oi,x as ai,y as Te,z as ri}from"./chunk-UVGQBODX.js";import{A as je,a as gi,b as W,d as A,g as $,h as Re,j as re,k as Be,l as se,m as Ne,p as ze,u as ce,v as Le,x as _i,y as qe,z as le}from"./chunk-M22BVTMS.js";import{$ as wt,$a as x,$b as w,B as St,Bb as n,Cb as i,Da as ve,Db as C,Ea as Ft,Eb as Wt,Fb as $t,G as we,H as ct,Ha as pt,Hb as y,Hc as Ae,Ic as L,J as Pt,Kb as p,Lb as m,M as lt,Mb as Qt,Na as Vt,Nb as Gt,O as Ot,Ob as Ht,Pb as gt,Pc as Jt,Q as Et,Qb as _t,R as dt,Ra as Rt,Rb as ye,Rc as D,Sb as be,Ua as Ie,Vb as ft,Wa as c,Wb as o,Xa as Bt,Xb as h,Yb as v,Zb as ht,Zc as ei,_a as Nt,_b as Yt,aa as ke,ac as k,ba as T,bb as zt,bc as I,cd as Se,da as kt,dc as xt,fa as It,fc as Ut,g as Oe,gb as E,ha as At,hb as Lt,hc as Xt,i as st,ib as qt,ja as mt,l as ee,lb as u,lc as Kt,ma as b,mc as Zt,qa as Tt,qc as Me,r as ne,rb as ut,sa as Dt,sb as d,sc as te,ta as g,ua as _,ub as M,vb as jt,w as Ee}from"./chunk-AFGHNMPW.js";var Xi=["panel"],Ki=["*"];function Zi(r,a){if(r&1&&(n(0,"div",1,0),Gt(2),i()),r&2){let e=a.id,t=m();jt(t._classList),M("mat-mdc-autocomplete-visible",t.showPanel)("mat-mdc-autocomplete-hidden",!t.showPanel)("mat-autocomplete-panel-animations-enabled",!t._animationsDisabled)("mat-primary",t._color==="primary")("mat-accent",t._color==="accent")("mat-warn",t._color==="warn"),d("id",t.id),ut("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(e))}}var bt=class{source;option;constructor(a,e){this.source=a,this.option=e}},Li=new mt("mat-autocomplete-default-options",{providedIn:"root",factory:Ji});function Ji(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var qi=(()=>{class r{_changeDetectorRef=b(Me);_elementRef=b(pt);_defaults=b(Li);_animationsDisabled=b(Vt,{optional:!0})==="NoopAnimations";_activeOptionChanges=Oe.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new ve;opened=new ve;closed=new ve;optionActivated=new ve;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=b(ai).getId("mat-autocomplete-");inertGroups;constructor(){let e=b(ni);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new ri(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new bt(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=E({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(t,s,l){if(t&1&&(gt(l,Ue,5),gt(l,yi,5)),t&2){let f;ye(f=be())&&(s.options=f),ye(f=be())&&(s.optionGroups=f)}},viewQuery:function(t,s){if(t&1&&(_t(Bt,7),_t(Xi,5)),t&2){let l;ye(l=be())&&(s.template=l.first),ye(l=be())&&(s.panel=l.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",te],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",te],requireSelection:[2,"requireSelection","requireSelection",te],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",te],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",te]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[xt([{provide:vi,useExisting:r}])],ngContentSelectors:Ki,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,s){t&1&&(Qt(),u(0,Zi,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return r})();var en={provide:gi,useExisting:It(()=>Mt),multi:!0};var ji=new mt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=b(Ve);return()=>r.scrollStrategies.reposition()}});function tn(r){return()=>r.scrollStrategies.reposition()}var nn={provide:ji,deps:[Ve],useFactory:tn},Mt=(()=>{class r{_environmentInjector=b(Tt);_element=b(pt);_overlay=b(Ve);_viewContainerRef=b(zt);_zone=b(Ft);_changeDetectorRef=b(Me);_dir=b(si,{optional:!0});_formField=b(Ci,{optional:!0,host:!0});_viewportRuler=b(di);_scrollStrategy=b(ji);_renderer=b(Nt);_defaults=b(Li,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new ee;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=Oe.EMPTY;_breakpointObserver=b(oi);_handsetLandscapeSubscription=Oe.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new ee;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&De(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return we(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ct(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ct(()=>this._overlayAttached)):ne()).pipe(Ee(e=>e instanceof bi?e:null))}optionSelections=St(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(wt(e),ke(()=>we(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(ke(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new st(e=>{let t=l=>{let f=ii(l),S=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,z=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&f!==this._element.nativeElement&&!this._hasFocus()&&(!S||!S.contains(f))&&(!z||!z.contains(f))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(f)&&e.next(l)},s=[this._renderer.listen("document","click",t),this._renderer.listen("document","auxclick",t),this._renderer.listen("document","touchend",t)];return()=>{s.forEach(l=>l())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,s=Te(e);if(t===27&&!s&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!s)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let l=this.autocomplete._keyManager.activeItem,f=t===38||t===40;t===9||f&&!s&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):f&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(f||this.autocomplete._keyManager.activeItem!==l)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,s=t.value;if(t.type==="number"&&(s=s==""?null:parseFloat(s)),this._previousValue!==s){if(this._previousValue=s,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(s),!s)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let l=this.autocomplete.options?.find(f=>f.selected);if(l){let f=this._getDisplayValue(l.value);s!==f&&l.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let l=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(l)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return ti()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new st(s=>{Rt(()=>{s.next()},{injector:this._environmentInjector})}),t=this.autocomplete.options?.changes.pipe(kt(()=>this._positionStrategy.reapplyLastPosition()),Et(0))??ne();return we(e,t).pipe(ke(()=>this._zone.run(()=>{let s=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),s!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Ot(1)).subscribe(s=>this._setValueAndClose(s))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,s=e?e.source:this._pendingAutoselectedOption;s?(this._clearPreviousSelectedOption(s),this._assignOptionValue(s.value),this._onChange(s.value),t._emitSelectEvent(s),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(s=>{s!==e&&s.selected&&s.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;Ct(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new ci(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(li.HandsetLandscape).subscribe(l=>{l.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let s=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&s!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!Te(e)||e.keyCode===38&&Te(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new pi({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],s=this._aboveClass,l=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:s},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:s}],f;this.position==="above"?f=l:this.position==="below"?f=t:f=[...t,...l],e.withPositions(f)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let s=0;s<e.options.length;s++)if(!e.options.get(s).disabled){t=s;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let t=this.autocomplete,s=Mi(e,t.options,t.optionGroups);if(e===0&&s===1)t._setScrollTop(0);else if(t.panel){let l=t.options.toArray()[e];if(l){let f=l._getHostElement(),S=Si(f.offsetTop,f.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(S)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&De(this._trackedModal,"aria-owns",t),Ct(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;De(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(t){return new(t||r)};static \u0275dir=qt({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,s){t&1&&p("focusin",function(){return s._handleFocus()})("blur",function(){return s._onTouched()})("input",function(f){return s._handleInput(f)})("keydown",function(f){return s._handleKeydown(f)})("click",function(){return s._handleClick()}),t&2&&ut("autocomplete",s.autocompleteAttribute)("role",s.autocompleteDisabled?null:"combobox")("aria-autocomplete",s.autocompleteDisabled?null:"list")("aria-activedescendant",s.panelOpen&&s.activeOption?s.activeOption.id:null)("aria-expanded",s.autocompleteDisabled?null:s.panelOpen.toString())("aria-controls",s.autocompleteDisabled||!s.panelOpen||s.autocomplete==null?null:s.autocomplete.id)("aria-haspopup",s.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",te]},exportAs:["matAutocompleteTrigger"],features:[xt([en]),Dt]})}return r})(),Wi=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=Lt({type:r});static \u0275inj=At({providers:[nn],imports:[ui,yt,vt,mi,yt,vt]})}return r})();function cn(r,a){r&1&&(n(0,"mat-error"),o(1," Nome \xE9 obrigat\xF3rio "),i())}function ln(r,a){r&1&&(n(0,"mat-error"),o(1," Nome deve ter pelo menos 2 caracteres "),i())}function dn(r,a){r&1&&(n(0,"mat-error"),o(1," Email inv\xE1lido "),i())}function mn(r,a){r&1&&(n(0,"mat-error"),o(1,"CEP \xE9 obrigat\xF3rio"),i())}function pn(r,a){r&1&&(n(0,"mat-error"),o(1,"CEP inv\xE1lido"),i())}function un(r,a){r&1&&C(0,"mat-spinner",34)}function gn(r,a){r&1&&(n(0,"mat-icon"),o(1,"search"),i())}function _n(r,a){r&1&&(n(0,"span"),o(1,"Buscar"),i())}function fn(r,a){r&1&&(n(0,"span"),o(1,"Buscando..."),i())}function hn(r,a){r&1&&C(0,"mat-spinner",34)}function xn(r,a){r&1&&(n(0,"mat-icon"),o(1,"person_add"),i())}var Je=class r{constructor(a,e,t,s,l,f){this.dialogRef=a;this.data=e;this.fb=t;this.orderService=s;this.cepService=l;this.snackBar=f;this.customerForm=this.fb.group({name:["",[A.required,A.minLength(2)]],phone:[""],email:["",[A.email]],document_number:[""],address_name:["Casa"],street:["",[A.required]],number:["",[A.required]],complement:[""],neighborhood:["",[A.required]],city:["",[A.required]],state:["",[A.required]],zipcode:["",[A.pattern(/^\d{5}-\d{3}$/)]],notes:[""]})}customerForm;loading=!1;cepLoading=!1;cepError=null;onSubmit(){if(this.customerForm.invalid){this.snackBar.open("Por favor, preencha os campos obrigat\xF3rios (nome, rua, n\xFAmero, bairro, cidade, estado)","Fechar",{duration:3e3});return}this.loading=!0;let a={name:this.customerForm.value.name,phone:this.customerForm.value.phone||void 0,email:this.customerForm.value.email||void 0,document_number:this.customerForm.value.document_number||void 0,address:{name:this.customerForm.value.address_name,street:this.customerForm.value.street,number:this.customerForm.value.number,complement:this.customerForm.value.complement||void 0,neighborhood:this.customerForm.value.neighborhood,city:this.customerForm.value.city,state:this.customerForm.value.state,zipcode:this.customerForm.value.zipcode||void 0,notes:this.customerForm.value.notes||void 0}};this.orderService.createQuickCustomer(a).subscribe({next:e=>{this.loading=!1,this.snackBar.open("Cliente criado com sucesso!","Fechar",{duration:3e3}),this.dialogRef.close(e)},error:e=>{this.loading=!1,console.error("Erro ao criar cliente:",e),e.status===409?(this.snackBar.open("Cliente j\xE1 existe! Usando dados existentes.","Fechar",{duration:3e3}),this.dialogRef.close(e.error.customer)):this.snackBar.open("Erro ao criar cliente: "+(e.error?.message||"Erro desconhecido"),"Fechar",{duration:5e3})}})}onCancel(){this.dialogRef.close()}formatZipcode(a){let e=a.target.value,t=this.cepService.formatCep(e);t!==e&&this.customerForm.get("zipcode")?.setValue(t,{emitEvent:!1})}searchCep(){let a=this.customerForm.get("zipcode")?.value;if(!a||!this.cepService.isValidCep(a)){this.snackBar.open("CEP inv\xE1lido. Digite um CEP v\xE1lido.","Fechar",{duration:3e3});return}this.cepLoading=!0,this.cepError=null,this.cepService.searchCep(a).subscribe({next:e=>{this.customerForm.patchValue({street:e.street,neighborhood:e.neighborhood,city:e.city,state:e.state}),this.cepLoading=!1,this.snackBar.open(`Endere\xE7o encontrado: ${e.street}, ${e.neighborhood} - ${e.city}/${e.state}`,"Fechar",{duration:3e3})},error:e=>{console.error("Erro ao buscar CEP:",e),this.cepError=e.message||"Erro ao buscar CEP",this.cepLoading=!1,this.snackBar.open("Erro ao buscar CEP: "+this.cepError,"Fechar",{duration:3e3})}})}clearCepError(){this.cepError=null}static \u0275fac=function(e){return new(e||r)(x(q),x(K),x(qe),x(We),x(ki),x(oe))};static \u0275cmp=E({type:r,selectors:[["app-quick-customer-dialog"]],decls:145,vars:16,consts:[[1,"quick-customer-dialog"],["mat-dialog-title","",1,"dialog-header"],["mat-dialog-content","",1,"dialog-content"],[3,"ngSubmit","formGroup"],[1,"customer-form-card"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","placeholder","Nome completo do cliente"],["matSuffix",""],[4,"ngIf"],["appearance","outline"],["matInput","","formControlName","phone","placeholder","(11) 99999-9999"],["matInput","","type","email","formControlName","email","placeholder","cliente@email.com"],["matInput","","formControlName","document_number","placeholder","000.000.000-00"],[2,"margin","20px 0"],[1,"address-section"],["matInput","","formControlName","address_name","placeholder","Casa, Trabalho, etc."],[1,"cep-field"],["appearance","outline",1,"cep-input"],["matInput","","formControlName","zipcode","placeholder","00000-000",3,"input"],["mat-raised-button","","color","primary",1,"cep-button",3,"click","disabled"],["diameter","20",4,"ngIf"],["matInput","","formControlName","street","placeholder","Nome da rua ou avenida"],["matInput","","formControlName","number","placeholder","123"],["matInput","","formControlName","complement","placeholder","Apto 45, Bloco A"],["matInput","","formControlName","neighborhood","placeholder","Centro, Vila Madalena"],["matInput","","formControlName","city","placeholder","S\xE3o Paulo"],["matInput","","formControlName","state","placeholder","SP"],["matInput","","formControlName","notes","placeholder","Instru\xE7\xF5es especiais para entrega","rows","2"],[1,"info-section"],[1,"info-text"],["mat-dialog-actions","",1,"dialog-actions"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20"]],template:function(e,t){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"mat-icon"),o(3,"person_add"),i(),n(4,"h2"),o(5,"Novo Cliente"),i()(),n(6,"div",2)(7,"form",3),p("ngSubmit",function(){return t.onSubmit()}),n(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title")(11,"mat-icon"),o(12,"person"),i(),o(13," Dados do Cliente "),i(),n(14,"mat-card-subtitle"),o(15,"Preencha os dados b\xE1sicos do cliente"),i()(),n(16,"mat-card-content")(17,"div",5)(18,"mat-form-field",6)(19,"mat-label"),o(20,"Nome Completo *"),i(),C(21,"input",7),n(22,"mat-icon",8),o(23,"person"),i(),u(24,cn,2,0,"mat-error",9)(25,ln,2,0,"mat-error",9),i()(),n(26,"div",5)(27,"mat-form-field",10)(28,"mat-label"),o(29,"Telefone"),i(),C(30,"input",11),n(31,"mat-icon",8),o(32,"phone"),i()(),n(33,"mat-form-field",10)(34,"mat-label"),o(35,"Email"),i(),C(36,"input",12),n(37,"mat-icon",8),o(38,"email"),i(),u(39,dn,2,0,"mat-error",9),i()(),n(40,"div",5)(41,"mat-form-field",6)(42,"mat-label"),o(43,"CPF/CNPJ"),i(),C(44,"input",13),n(45,"mat-icon",8),o(46,"badge"),i()()(),C(47,"mat-divider",14),n(48,"div",15)(49,"h4")(50,"mat-icon"),o(51,"location_on"),i(),o(52," Endere\xE7o de Entrega "),i(),n(53,"div",5)(54,"mat-form-field",10)(55,"mat-label"),o(56,"Nome do Endere\xE7o"),i(),C(57,"input",16),n(58,"mat-icon",8),o(59,"home"),i()(),n(60,"div",17)(61,"mat-form-field",18)(62,"mat-label"),o(63,"CEP"),i(),n(64,"input",19),p("input",function(l){return t.formatZipcode(l),t.clearCepError()}),i(),n(65,"mat-icon",8),o(66,"location_on"),i(),u(67,mn,2,0,"mat-error",9)(68,pn,2,0,"mat-error",9),i(),n(69,"button",20),p("click",function(){return t.searchCep()}),u(70,un,1,0,"mat-spinner",21)(71,gn,2,0,"mat-icon",9)(72,_n,2,0,"span",9)(73,fn,2,0,"span",9),i()()(),n(74,"div",5)(75,"mat-form-field",6)(76,"mat-label"),o(77,"Rua/Avenida"),i(),C(78,"input",22),n(79,"mat-icon",8),o(80,"streetview"),i()()(),n(81,"div",5)(82,"mat-form-field",10)(83,"mat-label"),o(84,"N\xFAmero"),i(),C(85,"input",23),n(86,"mat-icon",8),o(87,"numbers"),i()(),n(88,"mat-form-field",10)(89,"mat-label"),o(90,"Complemento"),i(),C(91,"input",24),n(92,"mat-icon",8),o(93,"home_work"),i()()(),n(94,"div",5)(95,"mat-form-field",10)(96,"mat-label"),o(97,"Bairro"),i(),C(98,"input",25),n(99,"mat-icon",8),o(100,"location_city"),i()(),n(101,"mat-form-field",10)(102,"mat-label"),o(103,"Cidade"),i(),C(104,"input",26),n(105,"mat-icon",8),o(106,"location_city"),i()(),n(107,"mat-form-field",10)(108,"mat-label"),o(109,"Estado"),i(),C(110,"input",27),n(111,"mat-icon",8),o(112,"map"),i()()(),n(113,"div",5)(114,"mat-form-field",6)(115,"mat-label"),o(116,"Observa\xE7\xF5es (opcional)"),i(),C(117,"textarea",28),n(118,"mat-icon",8),o(119,"note"),i()()()(),n(120,"div",29)(121,"mat-icon"),o(122,"info"),i(),n(123,"div",30)(124,"p")(125,"strong"),o(126,"Dica:"),i(),o(127,' Use o bot\xE3o "Buscar" no CEP para preencher automaticamente o endere\xE7o!'),i(),n(128,"p")(129,"strong"),o(130,"Importante:"),i(),o(131," Se o cliente j\xE1 existir (mesmo email ou CPF), ser\xE1 usado o cadastro existente."),i(),n(132,"p")(133,"strong"),o(134,"WhatsApp:"),i(),o(135," Ideal para atendimento via WhatsApp - cliente fica cadastrado com endere\xE7o para futuras compras."),i()()()()()()(),n(136,"div",31)(137,"button",32),p("click",function(){return t.onCancel()}),n(138,"mat-icon"),o(139,"cancel"),i(),o(140," Cancelar "),i(),n(141,"button",33),p("click",function(){return t.onSubmit()}),u(142,hn,1,0,"mat-spinner",21)(143,xn,2,0,"mat-icon",9),o(144),i()()()),e&2){let s,l,f,S,z,O;c(7),d("formGroup",t.customerForm),c(17),d("ngIf",(s=t.customerForm.get("name"))==null?null:s.hasError("required")),c(),d("ngIf",(l=t.customerForm.get("name"))==null?null:l.hasError("minlength")),c(14),d("ngIf",(f=t.customerForm.get("email"))==null?null:f.hasError("email")),c(28),d("ngIf",(S=t.customerForm.get("zipcode"))==null||S.errors==null?null:S.errors.required),c(),d("ngIf",(z=t.customerForm.get("zipcode"))==null||z.errors==null?null:z.errors.pattern),c(),d("disabled",!((O=t.customerForm.get("zipcode"))!=null&&O.value)||((O=t.customerForm.get("zipcode"))==null?null:O.errors)||t.cepLoading),c(),d("ngIf",t.cepLoading),c(),d("ngIf",!t.cepLoading),c(),d("ngIf",!t.cepLoading),c(),d("ngIf",t.cepLoading),c(64),d("disabled",t.loading),c(4),d("disabled",t.customerForm.invalid||t.loading),c(),d("ngIf",t.loading),c(),d("ngIf",!t.loading),c(),v(" ",t.loading?"Criando...":"Criar Cliente"," ")}},dependencies:[D,L,je,Be,W,$,Re,Ne,ze,N,pe,ge,ue,V,F,B,R,Y,H,Q,Ye,G,X,U,Z,$e,Ge,He,hi,Qe,ae,me,de,J,Ke],styles:[".quick-customer-dialog[_ngcontent-%COMP%]{width:100%;max-width:500px;max-height:90vh;overflow:hidden}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 24px;background:linear-gradient(135deg,#28a745,#20c997);color:#fff;margin:-24px -24px 0}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500}.dialog-content[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:24px 0}.customer-form-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 2px 8px #0000001a;border:none}.customer-form-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px 12px 0 0;margin:-16px -16px 16px;padding:16px}.customer-form-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1.1rem;font-weight:500;color:#495057}.customer-form-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-top:20px;padding:16px;background:#e3f2fd;border:1px solid #bbdefb;border-radius:8px}.info-section[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:1.2rem;width:1.2rem;height:1.2rem;margin-top:2px}.info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.9rem;color:#1976d2;line-height:1.4}.info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.address-section[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.address-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px;color:#495057;font-size:1.1rem;font-weight:500}.address-section[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#28a745;font-size:1.2rem;width:1.2rem;height:1.2rem}.cep-field[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;flex:1}.cep-input[_ngcontent-%COMP%]{flex:1}.cep-button[_ngcontent-%COMP%]{min-width:120px;height:56px;margin-top:8px;display:flex;align-items:center;gap:8px}.cep-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:0}.cep-button[_ngcontent-%COMP%]:disabled{opacity:.6}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;background:#f8f9fa;margin:0 -24px -24px;border-top:1px solid #dee2e6}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}mat-spinner[_ngcontent-%COMP%]{margin-right:8px}.mat-error[_ngcontent-%COMP%]{font-size:.75rem}.mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#28a745}.mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%]{background-color:#28a745}@media (max-width: 768px){.quick-customer-dialog[_ngcontent-%COMP%]{max-width:95vw}.form-row[_ngcontent-%COMP%], .cep-field[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.cep-button[_ngcontent-%COMP%]{width:100%;margin-top:0}.dialog-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function vn(r,a){if(r&1&&(n(0,"div",11)(1,"mat-icon",12),o(2,"error"),i(),n(3,"span"),o(4),i()()),r&2){let e=m();c(4),h(e.errorMessage)}}var nt=class r{constructor(a,e){this.dialogRef=a;this.settingsService=e}initialAmount=0;password="";errorMessage="";settings=null;ngOnInit(){this.settingsService.getSettings().subscribe({next:a=>this.settings=a,error:()=>{}})}onCancel(){this.dialogRef.close()}onConfirm(){this.errorMessage="";let a=this.settings&&this.settings.cash_open_password||localStorage.getItem("admin_cash_password");if(a&&this.password!==a){this.errorMessage="Senha incorreta. Tente novamente.";return}this.initialAmount>=0&&this.dialogRef.close({initialAmount:this.initialAmount})}static \u0275fac=function(e){return new(e||r)(x(q),x(Ze))};static \u0275cmp=E({type:r,selectors:[["app-open-cash-dialog"]],decls:31,vars:4,consts:[["mat-dialog-title",""],[1,"form-section"],["appearance","outline",1,"full-width"],["matInput","","type","password","placeholder","Digite a senha","required","",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","type","number","min","0","step","0.01","required","",3,"ngModelChange","ngModel"],["matPrefix",""],["class","error-message",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"error-message"],["color","warn"]],template:function(e,t){e&1&&(n(0,"h2",0)(1,"mat-icon"),o(2,"vpn_key"),i(),o(3," Abrir Caixa "),i(),n(4,"mat-dialog-content")(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),o(8,"Senha de Administrador"),i(),n(9,"input",3),I("ngModelChange",function(l){return k(t.password,l)||(t.password=l),l}),i(),n(10,"mat-icon",4),o(11,"lock"),i()()(),n(12,"div",1)(13,"p"),o(14,"Informe o valor inicial do caixa:"),i(),n(15,"mat-form-field",2)(16,"mat-label"),o(17,"Valor Inicial"),i(),n(18,"input",5),I("ngModelChange",function(l){return k(t.initialAmount,l)||(t.initialAmount=l),l}),i(),n(19,"span",6),o(20,"R$\xA0"),i(),n(21,"mat-icon",4),o(22,"attach_money"),i()()(),u(23,vn,5,1,"div",7),i(),n(24,"mat-dialog-actions",8)(25,"button",9),p("click",function(){return t.onCancel()}),o(26,"Cancelar"),i(),n(27,"button",10),p("click",function(){return t.onConfirm()}),n(28,"mat-icon"),o(29,"check"),i(),o(30," Abrir Caixa "),i()()),e&2&&(c(9),w("ngModel",t.password),c(9),w("ngModel",t.initialAmount),c(5),d("ngIf",t.errorMessage),c(4),d("disabled",!t.password||!t.initialAmount||t.initialAmount<0))},dependencies:[D,L,le,W,se,$,Le,ce,re,N,pe,ge,ue,V,F,Y,H,Q,xi,G,X,U,B,R],styles:[".full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{min-width:350px;padding:16px 24px}.form-section[_ngcontent-%COMP%]{margin:16px 0}.form-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#0009;font-size:14px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background-color:#ffebee;border:1px solid #f44336;border-radius:4px;color:#c62828}mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}mat-dialog-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}"]})};var yn=r=>[r,"BRL","symbol","1.2-2","pt-BR"];function bn(r,a){r&1&&(n(0,"mat-error"),o(1,"Informe o valor"),i())}function Mn(r,a){r&1&&(n(0,"mat-error"),o(1,"Valor deve ser maior que zero"),i())}function Sn(r,a){r&1&&(n(0,"mat-error"),o(1,"Informe o motivo"),i())}function Pn(r,a){r&1&&(n(0,"mat-error"),o(1,"Motivo muito curto"),i())}var ot=class r{constructor(a,e,t,s){this.dialogRef=a;this.data=e;this.fb=t;this.snackBar=s;this.form=this.fb.group({amount:[null,[A.required,A.min(.01)]],description:["",[A.required,A.minLength(3),A.maxLength(120)]]})}form;submitting=!1;submit(){if(this.form.invalid){this.snackBar.open("Preencha os campos corretamente","Fechar",{duration:3e3});return}let a=Number(this.form.value.amount);if(a>this.data.currentAmount){this.snackBar.open("Valor maior que o saldo dispon\xEDvel em caixa","Fechar",{duration:3e3});return}this.submitting=!0;let e={amount:a,description:this.form.value.description.trim()};this.dialogRef.close(e)}cancel(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||r)(x(q),x(K),x(qe),x(oe))};static \u0275cmp=E({type:r,selectors:[["app-sangria-dialog"]],decls:38,vars:16,consts:[[1,"sangria-dialog"],[1,"header"],[1,"content"],[1,"hint"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","number","step","0.01","min","0","formControlName","amount","placeholder","0,00"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","description","maxlength","120","placeholder","Ex.: Pagamento de motoboy, troco, etc."],[1,"actions"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"]],template:function(e,t){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"mat-icon"),o(3,"money_off"),i(),n(4,"h2"),o(5,"Sangria de Caixa"),i()(),n(6,"div",2)(7,"p",3),o(8,"Saldo atual dispon\xEDvel: "),n(9,"strong"),o(10),Xt(11,"currency"),i()(),n(12,"form",4),p("ngSubmit",function(){return t.submit()}),n(13,"mat-form-field",5)(14,"mat-label"),o(15,"Valor da sangria"),i(),C(16,"input",6),n(17,"mat-icon",7),o(18,"attach_money"),i(),u(19,bn,2,0,"mat-error",8)(20,Mn,2,0,"mat-error",8),i(),n(21,"mat-form-field",5)(22,"mat-label"),o(23,"Motivo"),i(),C(24,"input",9),n(25,"mat-icon",7),o(26,"description"),i(),u(27,Sn,2,0,"mat-error",8)(28,Pn,2,0,"mat-error",8),i()()(),n(29,"div",10)(30,"button",11),p("click",function(){return t.cancel()}),n(31,"mat-icon"),o(32,"close"),i(),o(33," Cancelar "),i(),n(34,"button",12),p("click",function(){return t.submit()}),n(35,"mat-icon"),o(36,"money_off"),i(),o(37," Confirmar Sangria "),i()()()),e&2){let s,l,f,S;c(10),h(Kt(11,8,Ut(14,yn,t.data.currentAmount))),c(2),d("formGroup",t.form),c(7),d("ngIf",(s=t.form.get("amount"))==null?null:s.hasError("required")),c(),d("ngIf",(l=t.form.get("amount"))==null?null:l.hasError("min")),c(7),d("ngIf",(f=t.form.get("description"))==null?null:f.hasError("required")),c(),d("ngIf",(S=t.form.get("description"))==null?null:S.hasError("minlength")),c(2),d("disabled",t.submitting),c(4),d("disabled",t.submitting||t.form.invalid)}},dependencies:[D,L,Jt,je,Be,W,se,$,Re,_i,ce,Ne,ze,N,V,F,B,R,Y,H,Q,Ye,G,X,U,ae,J],styles:[".sangria-dialog[_ngcontent-%COMP%]{width:100%;max-width:480px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 0 8px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;font-weight:600}.content[_ngcontent-%COMP%]{padding:0 0 8px}.hint[_ngcontent-%COMP%]{margin:0 0 12px;color:#6c757d}.full-width[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;padding-top:8px}"]})};function On(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Frete:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),h(e.formatCurrency(e.data.deliveryFee))}}function En(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Cliente:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),h(e.data.customerName)}}function wn(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Troco para levar:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),h(e.formatCurrency(e.data.changeAmount))}}function kn(r,a){if(r&1){let e=y();n(0,"div",4)(1,"div",5)(2,"mat-icon",6),o(3,"local_shipping"),i(),n(4,"h2"),o(5,"Pedido de Entrega"),i()(),n(6,"div",7)(7,"div",8)(8,"span",9),o(9,"Total:"),i(),n(10,"span",10),o(11),i()(),u(12,On,5,1,"div",11),n(13,"div",8)(14,"span",9),o(15,"Pagamento:"),i(),n(16,"span",10),o(17),i()(),u(18,En,5,1,"div",11)(19,wn,5,1,"div",11),i(),n(20,"div",12)(21,"p"),o(22),i(),n(23,"p",13),o(24,"Como ser\xE1 o pagamento?"),i()(),n(25,"div",14)(26,"button",15),p("click",function(){g(e);let s=m();return _(s.onCancelClick())}),n(27,"mat-icon"),o(28,"close"),i(),o(29," Cancelar "),i(),n(30,"button",16),p("click",function(){g(e);let s=m();return _(s.onPayOnDeliveryClick())}),n(31,"mat-icon"),o(32,"payment"),i(),o(33," Pagar na Entrega "),i(),n(34,"button",17),p("click",function(){g(e);let s=m();return _(s.onAlreadyPaidClick())}),n(35,"mat-icon"),o(36,"check_circle"),i(),o(37," J\xE1 Pago no Caixa "),i()()()}if(r&2){let e=m();c(11),h(e.formatCurrency(e.data.total)),c(),d("ngIf",e.data.deliveryFee!==void 0&&e.data.deliveryFee>0),c(5),h(e.data.paymentMethod),c(),d("ngIf",e.data.customerName),c(),d("ngIf",e.data.changeAmount&&e.data.changeAmount>0),c(3),h(e.data.confirmMessage)}}function In(r,a){if(r&1){let e=y();n(0,"div",18)(1,"div",5)(2,"mat-icon",19),o(3,"help_outline"),i(),n(4,"h2"),o(5,"Confirmar Venda"),i()(),n(6,"div",12)(7,"p"),o(8),i()(),n(9,"div",20)(10,"button",21),p("click",function(){g(e);let s=m();return _(s.onNoClick())}),n(11,"mat-icon"),o(12,"close"),i(),o(13," Cancelar "),i(),n(14,"button",22),p("click",function(){g(e);let s=m();return _(s.onYesClick())}),n(15,"mat-icon"),o(16,"check"),i(),o(17," Confirmar "),i()()()}if(r&2){let e=m();c(8),h(e.data.confirmMessage)}}function An(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Pedido:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),v("#",e.data.orderNumber,"")}}function Tn(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Cliente:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),h(e.data.customerName)}}function Dn(r,a){if(r&1&&(n(0,"div",8)(1,"span",9),o(2,"Troco:"),i(),n(3,"span",10),o(4),i()()),r&2){let e=m(2);c(4),h(e.formatCurrency(e.data.changeAmount))}}function Fn(r,a){if(r&1){let e=y();n(0,"div",23)(1,"div",5)(2,"mat-icon",24),o(3,"check_circle"),i(),n(4,"h2"),o(5,"Venda Realizada com Sucesso!"),i()(),n(6,"div",7),u(7,An,5,1,"div",11),n(8,"div",8)(9,"span",9),o(10,"Total:"),i(),n(11,"span",10),o(12),i()(),n(13,"div",8)(14,"span",9),o(15,"Pagamento:"),i(),n(16,"span",10),o(17),i()(),u(18,Tn,5,1,"div",11)(19,Dn,5,1,"div",11),i(),n(20,"div",25)(21,"p"),o(22,"Deseja imprimir o comprovante de venda?"),i()(),n(23,"div",20)(24,"button",21),p("click",function(){g(e);let s=m();return _(s.onNoClick())}),n(25,"mat-icon"),o(26,"close"),i(),o(27," N\xE3o Imprimir "),i(),n(28,"button",22),p("click",function(){g(e);let s=m();return _(s.onYesClick())}),n(29,"mat-icon"),o(30,"print"),i(),o(31," Sim, Imprimir "),i()()()}if(r&2){let e=m();c(7),d("ngIf",e.data.orderNumber),c(5),h(e.formatCurrency(e.data.total)),c(5),h(e.data.paymentMethod),c(),d("ngIf",e.data.customerName),c(),d("ngIf",e.data.changeAmount&&e.data.changeAmount>0)}}var Ce=class r{constructor(a,e){this.dialogRef=a;this.data=e}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}onPayOnDeliveryClick(){this.dialogRef.close("pay_on_delivery")}onAlreadyPaidClick(){this.dialogRef.close("already_paid")}formatCurrency(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}static \u0275fac=function(e){return new(e||r)(x(q),x(K))};static \u0275cmp=E({type:r,selectors:[["app-print-confirmation-dialog"]],decls:4,vars:3,consts:[[1,"print-confirmation-dialog"],["class","delivery-confirmation-mode",4,"ngIf"],["class","confirmation-mode",4,"ngIf"],["class","print-mode",4,"ngIf"],[1,"delivery-confirmation-mode"],[1,"dialog-header"],[1,"delivery-icon"],[1,"order-info"],[1,"info-item"],[1,"label"],[1,"value"],["class","info-item",4,"ngIf"],[1,"confirmation-message"],[1,"question-text"],[1,"dialog-actions","delivery-actions"],["mat-stroked-button","","color","warn",1,"action-button",3,"click"],["mat-raised-button","","color","accent",1,"action-button",3,"click"],["mat-raised-button","","color","primary",1,"action-button",3,"click"],[1,"confirmation-mode"],[1,"question-icon"],[1,"dialog-actions"],["mat-stroked-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"print-mode"],[1,"success-icon"],[1,"dialog-content"]],template:function(e,t){e&1&&(n(0,"div",0),u(1,kn,38,6,"div",1)(2,In,18,1,"div",2)(3,Fn,32,5,"div",3),i()),e&2&&(c(),d("ngIf",t.data.isDeliveryConfirmation),c(),d("ngIf",t.data.isConfirmation&&!t.data.isDeliveryConfirmation),c(),d("ngIf",!t.data.isConfirmation))},dependencies:[D,L,N,V,F,B,R],styles:[".print-confirmation-dialog[_ngcontent-%COMP%]{padding:24px;min-width:400px}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;text-align:center;justify-content:center}.success-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#4caf50}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#4caf50;font-size:24px;font-weight:500}.order-info[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:16px;margin-bottom:24px}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.label[_ngcontent-%COMP%]{font-weight:500;color:#0009}.value[_ngcontent-%COMP%]{font-weight:600;color:#1976d2}.dialog-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#000000b3}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px}.confirmation-mode[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ff9800}.confirmation-message[_ngcontent-%COMP%]{background-color:#fff3e0;border-left:4px solid #ff9800;padding:16px;border-radius:4px;margin-bottom:24px}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;white-space:pre-line;font-size:16px;line-height:1.5;color:#000000de}.question-text[_ngcontent-%COMP%]{font-weight:600;margin-top:12px!important;color:#1976d2!important}.delivery-confirmation-mode[_ngcontent-%COMP%]   .delivery-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ff9800}.delivery-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:8px}.delivery-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%}"]})};var at=class r{constructor(a,e){this.dialogRef=a;this.data=e}getDifference(){return this.data.cashStatus.current_amount-this.data.cashStatus.initial_amount}getAbsoluteDifference(){return Math.abs(this.getDifference())}formatCurrency(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}onCancel(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(e){return new(e||r)(x(q),x(K))};static \u0275cmp=E({type:r,selectors:[["app-close-cash-dialog"]],decls:73,vars:8,consts:[[1,"close-cash-dialog"],[1,"dialog-header"],[1,"warning-icon"],["color","warn"],["mat-dialog-title",""],[1,"dialog-subtitle"],[1,"cash-summary"],[1,"summary-cards"],[1,"summary-card","opening"],[1,"card-icon"],[1,"card-content"],[1,"card-label"],[1,"card-value"],[1,"summary-card","current"],[1,"summary-card","difference"],[1,"warning-section"],[1,"warning-message"],[1,"warning-text"],[1,"confirmation-section"],[1,"confirmation-question"],[1,"confirmation-note"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",1,"confirm-button",3,"click"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),o(4,"warning"),i()(),n(5,"h2",4),o(6,"Fechar Caixa"),i(),n(7,"p",5),o(8,"Confirma\xE7\xE3o necess\xE1ria para fechar o caixa"),i()(),n(9,"mat-dialog-content")(10,"div",6)(11,"h3"),o(12,"Resumo do Caixa"),i(),n(13,"div",7)(14,"div",8)(15,"div",9)(16,"mat-icon"),o(17,"trending_up"),i()(),n(18,"div",10)(19,"span",11),o(20,"Valor Inicial"),i(),n(21,"span",12),o(22),i()()(),n(23,"div",13)(24,"div",9)(25,"mat-icon"),o(26,"account_balance_wallet"),i()(),n(27,"div",10)(28,"span",11),o(29,"Valor Atual"),i(),n(30,"span",12),o(31),i()()(),n(32,"div",14)(33,"div",9)(34,"mat-icon"),o(35),i()(),n(36,"div",10)(37,"span",11),o(38,"Diferen\xE7a"),i(),n(39,"span",12),o(40),i()()()()(),C(41,"mat-divider"),n(42,"div",15)(43,"div",16)(44,"mat-icon",3),o(45,"info"),i(),n(46,"div",17)(47,"p")(48,"strong"),o(49,"Aten\xE7\xE3o:"),i(),o(50," Ao fechar o caixa:"),i(),n(51,"ul")(52,"li"),o(53,"Todas as vendas pendentes ser\xE3o perdidas"),i(),n(54,"li"),o(55,"O relat\xF3rio de fechamento ser\xE1 gerado"),i(),n(56,"li"),o(57,"Ser\xE1 necess\xE1rio reabrir o caixa para novas vendas"),i()()()()(),n(58,"div",18)(59,"p",19)(60,"strong"),o(61,"Voc\xEA tem certeza que deseja fechar o caixa?"),i()(),n(62,"p",20),o(63," Esta a\xE7\xE3o n\xE3o pode ser desfeita. Certifique-se de que todas as vendas foram processadas. "),i()()(),n(64,"mat-dialog-actions",21)(65,"button",22),p("click",function(){return t.onCancel()}),n(66,"mat-icon"),o(67,"cancel"),i(),o(68," Cancelar "),i(),n(69,"button",23),p("click",function(){return t.onConfirm()}),n(70,"mat-icon"),o(71,"lock"),i(),o(72," Sim, Fechar Caixa "),i()()()),e&2&&(c(22),h(t.formatCurrency(t.data.cashStatus.initial_amount)),c(9),h(t.formatCurrency(t.data.cashStatus.current_amount)),c(),M("positive",t.getDifference()>=0)("negative",t.getDifference()<0),c(3),h(t.getDifference()>=0?"trending_up":"trending_down"),c(5),h(t.formatCurrency(t.getAbsoluteDifference())))},dependencies:[D,N,pe,ge,ue,V,F,B,R,Z,J,Ke],styles:[".close-cash-dialog[_ngcontent-%COMP%]{max-width:500px;width:100%}.dialog-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.warning-icon[_ngcontent-%COMP%]{margin-bottom:16px}.warning-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.dialog-subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:#0009;font-size:14px}.cash-summary[_ngcontent-%COMP%]{margin:24px 0}.cash-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#000000de}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}.summary-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;border-radius:8px;border:1px solid #e0e0e0}.summary-card.opening[_ngcontent-%COMP%]{background-color:#e3f2fd;border-color:#1976d2}.summary-card.current[_ngcontent-%COMP%], .summary-card.difference.positive[_ngcontent-%COMP%]{background-color:#e8f5e8;border-color:#4caf50}.summary-card.difference.negative[_ngcontent-%COMP%]{background-color:#ffebee;border-color:#f44336}.card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.summary-card.opening[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.summary-card.current[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.summary-card.difference.positive[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.summary-card.difference.negative[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.card-label[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-bottom:4px}.card-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000000de}.warning-section[_ngcontent-%COMP%]{margin:24px 0}.warning-message[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px;background-color:#fff3e0;border:1px solid #ff9800;border-radius:8px}.warning-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800;margin-top:4px}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#e65100}.warning-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:16px;color:#e65100}.warning-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0}.confirmation-section[_ngcontent-%COMP%]{margin:24px 0;text-align:center}.confirmation-question[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;color:#000000de}.confirmation-note[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:24px;gap:8px}.confirm-button[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.warning-message[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}"]})};function Vn(r,a){r&1&&(n(0,"div",22),C(1,"mat-spinner",23),n(2,"p"),o(3,"Carregando bebidas..."),i()())}function Rn(r,a){if(r&1&&(n(0,"span",35),o(1),i()),r&2){let e=m().$implicit,t=m(3);c(),v(" Dose: ",t.formatPrice(e.dose_price)," ")}}function Bn(r,a){if(r&1&&(n(0,"span",36),o(1),i()),r&2){let e=m().$implicit,t=m(3);c(),v(" ",t.formatPrice(e.price)," ")}}function Nn(r,a){r&1&&(n(0,"div",37)(1,"mat-icon"),o(2,"check_circle"),i()())}function zn(r,a){if(r&1){let e=y();n(0,"div",26),p("click",function(){let s=g(e).$implicit,l=m(3);return _(l.selectBeverage(s))}),n(1,"div",27),C(2,"img",28),i(),n(3,"div",29)(4,"h4"),o(5),i(),n(6,"div",30),u(7,Rn,2,1,"span",31)(8,Bn,2,1,"span",32),i(),n(9,"div",33),o(10),i()(),u(11,Nn,3,0,"div",34),i()}if(r&2){let e=a.$implicit,t=m(3);M("selected",(t.selectedBeverage==null?null:t.selectedBeverage.id)===e.id),c(2),d("src",t.getProductImage(e),Ie)("alt",e.name),c(3),h(e.name),c(2),d("ngIf",e.dose_price),c(),d("ngIf",!e.dose_price),c(),M("out-of-stock",e.current_stock===0),c(),v(" Estoque: ",e.current_stock," "),c(),d("ngIf",(t.selectedBeverage==null?null:t.selectedBeverage.id)===e.id)}}function Ln(r,a){if(r&1&&(n(0,"div",24),u(1,zn,12,11,"div",25),i()),r&2){let e=m(2);c(),d("ngForOf",e.getFilteredBeverages())}}function qn(r,a){r&1&&(n(0,"div",38)(1,"mat-icon"),o(2,"search_off"),i(),n(3,"p"),o(4,"Nenhuma bebida encontrada"),i()())}function jn(r,a){if(r&1){let e=y();n(0,"div",14)(1,"h3"),o(2,"Escolha a Bebida"),i(),n(3,"p",15),o(4,"Selecione a dose que deseja adicionar ao cop\xE3o"),i(),n(5,"mat-form-field",16)(6,"mat-label"),o(7,"Buscar bebida"),i(),n(8,"input",17),I("ngModelChange",function(s){g(e);let l=m();return k(l.searchBeverage,s)||(l.searchBeverage=s),_(s)}),i(),n(9,"mat-icon",18),o(10,"search"),i()(),u(11,Vn,4,0,"div",19)(12,Ln,2,1,"div",20)(13,qn,5,0,"div",21),i()}if(r&2){let e=m();c(8),w("ngModel",e.searchBeverage),c(3),d("ngIf",e.loadingBeverage),c(),d("ngIf",!e.loadingBeverage),c(),d("ngIf",!e.loadingBeverage&&e.getFilteredBeverages().length===0)}}function Wn(r,a){r&1&&(n(0,"div",22),C(1,"mat-spinner",23),n(2,"p"),o(3,"Carregando acompanhamentos..."),i()())}function $n(r,a){r&1&&(n(0,"div",37)(1,"mat-icon"),o(2,"check_circle"),i()())}function Qn(r,a){if(r&1){let e=y();n(0,"div",26),p("click",function(){let s=g(e).$implicit,l=m(3);return _(l.selectAccompaniment(s))}),n(1,"div",27),C(2,"img",28),i(),n(3,"div",29)(4,"h4"),o(5),i(),n(6,"div",30),o(7),i(),n(8,"div",33),o(9),i()(),u(10,$n,3,0,"div",34),i()}if(r&2){let e=a.$implicit,t=m(3);M("selected",(t.selectedAccompaniment==null?null:t.selectedAccompaniment.id)===e.id),c(2),d("src",t.getProductImage(e),Ie)("alt",e.name),c(3),h(e.name),c(2),v(" ",t.formatPrice(e.price)," "),c(),M("out-of-stock",e.current_stock===0),c(),v(" Estoque: ",e.current_stock," "),c(),d("ngIf",(t.selectedAccompaniment==null?null:t.selectedAccompaniment.id)===e.id)}}function Gn(r,a){if(r&1&&(n(0,"div",24),u(1,Qn,11,10,"div",25),i()),r&2){let e=m(2);c(),d("ngForOf",e.getFilteredAccompaniments())}}function Hn(r,a){r&1&&(n(0,"div",38)(1,"mat-icon"),o(2,"search_off"),i(),n(3,"p"),o(4,"Nenhum acompanhamento encontrado"),i()())}function Yn(r,a){if(r&1){let e=y();n(0,"div",14)(1,"h3"),o(2,"Escolha o Acompanhamento"),i(),n(3,"p",15),o(4,"Selecione um acompanhamento ou pule esta etapa"),i(),n(5,"mat-form-field",16)(6,"mat-label"),o(7,"Buscar acompanhamento"),i(),n(8,"input",17),I("ngModelChange",function(s){g(e);let l=m();return k(l.searchAccompaniment,s)||(l.searchAccompaniment=s),_(s)}),i(),n(9,"mat-icon",18),o(10,"search"),i()(),n(11,"button",39),p("click",function(){g(e);let s=m();return _(s.skipAccompanimentStep())}),n(12,"mat-icon"),o(13,"close"),i(),o(14," Sem Acompanhamento "),i(),u(15,Wn,4,0,"div",19)(16,Gn,2,1,"div",20)(17,Hn,5,0,"div",21),i()}if(r&2){let e=m();c(8),w("ngModel",e.searchAccompaniment),c(7),d("ngIf",e.loadingAccompaniment),c(),d("ngIf",!e.loadingAccompaniment),c(),d("ngIf",!e.loadingAccompaniment&&e.getFilteredAccompaniments().length===0)}}function Un(r,a){r&1&&(n(0,"div",22),C(1,"mat-spinner",23),n(2,"p"),o(3,"Carregando gelos..."),i()())}function Xn(r,a){r&1&&(n(0,"div",37)(1,"mat-icon"),o(2,"check_circle"),i()())}function Kn(r,a){if(r&1){let e=y();n(0,"div",26),p("click",function(){let s=g(e).$implicit,l=m(3);return _(l.selectIce(s))}),n(1,"div",27),C(2,"img",28),i(),n(3,"div",29)(4,"h4"),o(5),i(),n(6,"div",30),o(7),i(),n(8,"div",33),o(9),i()(),u(10,Xn,3,0,"div",34),i()}if(r&2){let e=a.$implicit,t=m(3);M("selected",(t.selectedIce==null?null:t.selectedIce.id)===e.id),c(2),d("src",t.getProductImage(e),Ie)("alt",e.name),c(3),h(e.name),c(2),v(" ",t.formatPrice(e.price)," "),c(),M("out-of-stock",e.current_stock===0),c(),v(" Estoque: ",e.current_stock," "),c(),d("ngIf",(t.selectedIce==null?null:t.selectedIce.id)===e.id)}}function Zn(r,a){if(r&1&&(n(0,"div",24),u(1,Kn,11,10,"div",25),i()),r&2){let e=m(2);c(),d("ngForOf",e.getFilteredIce())}}function Jn(r,a){r&1&&(n(0,"div",38)(1,"mat-icon"),o(2,"search_off"),i(),n(3,"p"),o(4,"Nenhum gelo encontrado"),i()())}function eo(r,a){if(r&1){let e=y();n(0,"div",14)(1,"h3"),o(2,"Escolha o Gelo"),i(),n(3,"p",15),o(4,"Selecione um gelo de sabor ou pule esta etapa"),i(),n(5,"mat-form-field",16)(6,"mat-label"),o(7,"Buscar gelo"),i(),n(8,"input",17),I("ngModelChange",function(s){g(e);let l=m();return k(l.searchIce,s)||(l.searchIce=s),_(s)}),i(),n(9,"mat-icon",18),o(10,"search"),i()(),n(11,"button",39),p("click",function(){g(e);let s=m();return _(s.skipIceStep())}),n(12,"mat-icon"),o(13,"close"),i(),o(14," Sem Gelo "),i(),u(15,Un,4,0,"div",19)(16,Zn,2,1,"div",20)(17,Jn,5,0,"div",21),i()}if(r&2){let e=m();c(8),w("ngModel",e.searchIce),c(7),d("ngIf",e.loadingIce),c(),d("ngIf",!e.loadingIce),c(),d("ngIf",!e.loadingIce&&e.getFilteredIce().length===0)}}function to(r,a){if(r&1){let e=y();n(0,"button",40),p("click",function(){g(e);let s=m();return _(s.nextStep())}),o(1," Pr\xF3ximo "),n(2,"mat-icon"),o(3,"arrow_forward"),i()()}if(r&2){let e=m();d("disabled",!e.canProceed())}}function io(r,a){if(r&1){let e=y();n(0,"button",41),p("click",function(){g(e);let s=m();return _(s.finish())}),n(1,"mat-icon"),o(2,"check"),i(),o(3," Concluir e Adicionar ao Carrinho "),i()}if(r&2){let e=m();d("disabled",!e.selectedBeverage)}}var rt=class r{constructor(a,e,t){this.dialogRef=a;this.data=e;this.productService=t}currentStep=1;totalSteps=3;doseProducts=[];selectedBeverage=null;searchBeverage="";accompanimentProducts=[];selectedAccompaniment=null;skipAccompaniment=!1;searchAccompaniment="";iceProducts=[];selectedIce=null;skipIce=!1;searchIce="";loading=!1;loadingBeverage=!1;loadingAccompaniment=!1;loadingIce=!1;ngOnInit(){this.loadDoseProducts(),this.loadAccompanimentProducts(),this.loadIceProducts()}loadDoseProducts(){this.loadingBeverage=!0,this.productService.getProducts({per_page:100}).subscribe({next:a=>{this.doseProducts=a.data.filter(e=>e.can_sell_by_dose||e.name.toLowerCase().includes("dose")||e.category&&e.category.name.toLowerCase().includes("dose")),this.loadingBeverage=!1},error:a=>{console.error("Erro ao carregar bebidas:",a),this.loadingBeverage=!1}})}loadAccompanimentProducts(){this.loadingAccompaniment=!0,this.productService.getProducts({per_page:100}).subscribe({next:a=>{this.accompanimentProducts=a.data.filter(e=>{if(!e.category)return!1;let t=e.category.name.toLowerCase();return t.includes("energ\xE9tico")||t.includes("suco")||t.includes("\xE1gua")||t.includes("refrigerante")||t.includes("bebida")}),this.loadingAccompaniment=!1},error:a=>{console.error("Erro ao carregar acompanhamentos:",a),this.loadingAccompaniment=!1}})}loadIceProducts(){this.loadingIce=!0,this.productService.getProducts({per_page:100}).subscribe({next:a=>{this.iceProducts=a.data.filter(e=>e.name.toLowerCase().includes("gelo")||e.category&&e.category.name.toLowerCase().includes("gelo")),this.loadingIce=!1},error:a=>{console.error("Erro ao carregar gelos:",a),this.loadingIce=!1}})}getFilteredBeverages(){if(!this.searchBeverage.trim())return this.doseProducts;let a=this.searchBeverage.toLowerCase();return this.doseProducts.filter(e=>e.name.toLowerCase().includes(a))}getFilteredAccompaniments(){if(!this.searchAccompaniment.trim())return this.accompanimentProducts;let a=this.searchAccompaniment.toLowerCase();return this.accompanimentProducts.filter(e=>e.name.toLowerCase().includes(a))}getFilteredIce(){if(!this.searchIce.trim())return this.iceProducts;let a=this.searchIce.toLowerCase();return this.iceProducts.filter(e=>e.name.toLowerCase().includes(a))}selectBeverage(a){this.selectedBeverage=a,setTimeout(()=>{this.nextStep()},300)}selectAccompaniment(a){this.selectedAccompaniment=a,this.skipAccompaniment=!1}skipAccompanimentStep(){this.selectedAccompaniment=null,this.skipAccompaniment=!0,this.nextStep()}selectIce(a){this.selectedIce=a,this.skipIce=!1}skipIceStep(){this.selectedIce=null,this.skipIce=!0}nextStep(){this.currentStep<this.totalSteps&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}canProceed(){switch(this.currentStep){case 1:return this.selectedBeverage!==null;case 2:return this.selectedAccompaniment!==null||this.skipAccompaniment;case 3:return!0;default:return!1}}finish(){if(!this.selectedBeverage)return;let a={products:[]};a.products.push({product:this.selectedBeverage,quantity:1,sale_type:"dose"}),this.selectedAccompaniment&&!this.skipAccompaniment&&a.products.push({product:this.selectedAccompaniment,quantity:1,sale_type:"garrafa"}),this.selectedIce&&!this.skipIce&&a.products.push({product:this.selectedIce,quantity:1,sale_type:"garrafa"}),this.dialogRef.close(a)}cancel(){this.dialogRef.close(null)}formatPrice(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}getProductImage(a){if(a.image_url){if(a.image_url.startsWith("http://")||a.image_url.startsWith("https://"))return a.image_url;if(a.image_url.startsWith("/storage/")||a.image_url.startsWith("storage/")){let e=Se.apiUrl.replace(/\/api$/,""),t=a.image_url.startsWith("/")?a.image_url:`/${a.image_url}`;return`${e}${t}`}return a.image_url}return"/assets/images/no-image.png"}static \u0275fac=function(e){return new(e||r)(x(q),x(K),x(fi))};static \u0275cmp=E({type:r,selectors:[["app-copao-modal"]],decls:36,vars:18,consts:[[1,"copao-modal"],[1,"modal-header"],["mat-icon-button","",1,"close-button",3,"click"],[1,"steps-indicator"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-line"],[1,"modal-content"],["class","step-content",4,"ngIf"],[1,"modal-footer"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],[1,"step-content"],[1,"step-description"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Digite o nome...",3,"ngModelChange","ngModel"],["matSuffix",""],["class","loading-container",4,"ngIf"],["class","products-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],["diameter","40"],[1,"products-grid"],["class","product-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"product-card",3,"click"],[1,"product-image"],["onerror","this.src='/assets/images/no-image.png'",3,"src","alt"],[1,"product-info"],[1,"product-price"],["class","dose-price",4,"ngIf"],["class","bottle-price",4,"ngIf"],[1,"product-stock"],["class","select-indicator",4,"ngIf"],[1,"dose-price"],[1,"bottle-price"],[1,"select-indicator"],[1,"empty-state"],["mat-stroked-button","","color","warn",1,"skip-button",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","accent",3,"click","disabled"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F943} Montar Cop\xE3o / Dose"),i(),n(4,"button",2),p("click",function(){return t.cancel()}),n(5,"mat-icon"),o(6,"close"),i()()(),n(7,"div",3)(8,"div",4)(9,"div",5),o(10,"1"),i(),n(11,"div",6),o(12,"Bebida"),i()(),C(13,"div",7),n(14,"div",4)(15,"div",5),o(16,"2"),i(),n(17,"div",6),o(18,"Acompanhamento"),i()(),C(19,"div",7),n(20,"div",4)(21,"div",5),o(22,"3"),i(),n(23,"div",6),o(24,"Gelo"),i()()(),n(25,"div",8),u(26,jn,14,4,"div",9)(27,Yn,18,4,"div",9)(28,eo,18,4,"div",9),i(),n(29,"div",10)(30,"button",11),p("click",function(){return t.previousStep()}),n(31,"mat-icon"),o(32,"arrow_back"),i(),o(33," Voltar "),i(),u(34,to,4,1,"button",12)(35,io,4,1,"button",13),i()()),e&2&&(c(8),M("active",t.currentStep===1)("completed",t.currentStep>1),c(6),M("active",t.currentStep===2)("completed",t.currentStep>2),c(6),M("active",t.currentStep===3)("completed",t.currentStep>3),c(6),d("ngIf",t.currentStep===1),c(),d("ngIf",t.currentStep===2),c(),d("ngIf",t.currentStep===3),c(2),d("disabled",t.currentStep===1),c(4),d("ngIf",t.currentStep<t.totalSteps),c(),d("ngIf",t.currentStep===t.totalSteps))},dependencies:[D,Ae,L,le,W,$,re,N,V,F,Fe,B,R,Z,me,de,X,U,H,Q,G,Y,Xe],styles:[".copao-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:90vh;width:90vw;max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:2px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#333}.close-button[_ngcontent-%COMP%]{color:#666}.steps-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;background:#f5f5f5}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;position:relative}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#e0e0e0;color:#666;display:flex;align-items:center;justify-content:center;font-weight:700;transition:all .3s}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--primary);color:#fff;transform:scale(1.1)}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.step-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--primary);font-weight:600}.step-line[_ngcontent-%COMP%]{flex:1;height:2px;background:#e0e0e0;margin:0 1rem;margin-top:-20px}.step.completed[_ngcontent-%COMP%] + .step-line[_ngcontent-%COMP%]{background:#4caf50}.modal-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem}.step-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;color:#333}.step-description[_ngcontent-%COMP%]{color:#666;margin:0 0 1.5rem;font-size:.9rem}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}.skip-button[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem;height:48px;font-size:1rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem;margin-bottom:1rem}.product-card[_ngcontent-%COMP%]{position:relative;background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:1rem;cursor:pointer;transition:all .2s;display:flex;flex-direction:column;align-items:center;text-align:center}.product-card[_ngcontent-%COMP%]:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.product-card.selected[_ngcontent-%COMP%]{border-color:var(--primary);background:#e3f2fd;box-shadow:0 4px 12px #00000026}.product-image[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.75rem;border-radius:8px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-info[_ngcontent-%COMP%]{flex:1;width:100%}.product-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;font-weight:600;color:#333;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-price[_ngcontent-%COMP%]{margin-bottom:.5rem}.dose-price[_ngcontent-%COMP%]{color:var(--primary);font-weight:600;font-size:.9rem}.bottle-price[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:.9rem}.product-stock[_ngcontent-%COMP%]{font-size:.75rem;color:#666}.product-stock.out-of-stock[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.select-indicator[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:var(--primary)}.select-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#999}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-top:2px solid #e0e0e0;gap:1rem}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.copao-modal[_ngcontent-%COMP%]{width:95vw;max-height:95vh}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.75rem}.product-image[_ngcontent-%COMP%]{width:60px;height:60px}.step-number[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.9rem}.step-label[_ngcontent-%COMP%]{font-size:.75rem}}"]})};function no(r,a){r&1&&(n(0,"div",6),C(1,"mat-spinner",7),n(2,"p"),o(3,"Carregando..."),i()())}function oo(r,a){r&1&&(n(0,"span"),o(1,"(Sem estoque)"),i())}function ao(r,a){if(r&1&&(n(0,"mat-option",54)(1,"div",55)(2,"span",56),o(3),i(),n(4,"span",57),o(5),i(),n(6,"span",58),o(7),u(8,oo,2,0,"span",59),i()()()),r&2){let e=a.$implicit,t=m(2);d("value",e),c(3),h(e.name),c(2),h(t.formatCurrency(e.price)),c(),M("out-of-stock",e.current_stock===0),c(),v(" Estoque: ",e.current_stock," "),c(),d("ngIf",e.current_stock===0)}}function ro(r,a){if(r&1&&(n(0,"span",74),o(1),i()),r&2){let e=m(3);c(),v(" | Dose: ",e.formatCurrency(e.selectedProduct.dose_price)," ")}}function so(r,a){if(r&1&&(n(0,"span",75),o(1),i()),r&2){let e=m(3);c(),v(" (",e.selectedProduct.doses_por_garrafa," doses por garrafa) ")}}function co(r,a){if(r&1&&(n(0,"mat-option",80),o(1),i()),r&2){let e=m(4);c(),v("Dose - ",e.formatCurrency(e.selectedProduct.dose_price),"")}}function lo(r,a){if(r&1){let e=y();n(0,"div",76)(1,"mat-form-field",19)(2,"mat-label"),o(3,"Tipo de Venda"),i(),n(4,"mat-select",77),I("ngModelChange",function(s){g(e);let l=m(3);return k(l.saleType,s)||(l.saleType=s),_(s)}),n(5,"mat-option",78),o(6),i(),u(7,co,2,1,"mat-option",79),i()()()}if(r&2){let e=m(3);c(4),w("ngModel",e.saleType),c(2),v("Garrafa - ",e.formatCurrency(e.selectedProduct.price),""),c(),d("ngIf",e.selectedProduct.dose_price)}}function mo(r,a){r&1&&(n(0,"div",81)(1,"mat-icon"),o(2,"info"),i(),n(3,"span"),o(4,"Este produto s\xF3 pode ser vendido por garrafa"),i()())}function po(r,a){if(r&1&&(n(0,"div",82)(1,"mat-icon"),o(2,"info"),i(),n(3,"span"),o(4),i()()),r&2){let e=m(3);c(4),ht(" ",e.quantity," dose(s) = ",e.ceil(e.quantity/e.selectedProduct.doses_por_garrafa)," garrafa(s) necess\xE1ria(s) ")}}function uo(r,a){r&1&&(n(0,"div",83)(1,"mat-icon",84),o(2,"warning"),i(),n(3,"span"),o(4,"Produto sem estoque. N\xE3o \xE9 poss\xEDvel adicionar ao carrinho."),i()())}function go(r,a){if(r&1){let e=y();n(0,"div",60)(1,"div",61)(2,"span",56),o(3),i(),n(4,"div",62)(5,"span",57),o(6),i(),u(7,ro,2,1,"span",63),i(),n(8,"div",64)(9,"span",58),o(10),i(),u(11,so,2,1,"span",65),i()(),u(12,lo,8,3,"div",66)(13,mo,5,0,"div",67),n(14,"div",68)(15,"button",69),p("click",function(){g(e);let s=m(2);return _(s.quantity=s.quantity>1?s.quantity-1:1)}),n(16,"mat-icon"),o(17,"remove"),i()(),n(18,"span",70),o(19),i(),n(20,"button",69),p("click",function(){g(e);let s=m(2);return _(s.quantity=s.quantity+1)}),n(21,"mat-icon"),o(22,"add"),i()()(),u(23,po,5,2,"div",71)(24,uo,5,0,"div",72),n(25,"button",73),p("click",function(){g(e);let s=m(2);return _(s.addToCart())}),n(26,"mat-icon"),o(27,"add_shopping_cart"),i(),o(28," Adicionar ao Carrinho "),i()()}if(r&2){let e=m(2);c(3),h(e.selectedProduct.name),c(3),v("Garrafa: ",e.formatCurrency(e.selectedProduct.price),""),c(),d("ngIf",e.selectedProduct.can_sell_by_dose&&e.selectedProduct.dose_price),c(3),v("Estoque: ",e.selectedProduct.current_stock," garrafas"),c(),d("ngIf",e.selectedProduct.doses_por_garrafa),c(),d("ngIf",e.selectedProduct.can_sell_by_dose),c(),d("ngIf",!e.selectedProduct.can_sell_by_dose),c(2),d("disabled",e.quantity<=1),c(4),h(e.quantity),c(),d("disabled",e.selectedProduct.current_stock===0||(e.saleType==="garrafa"?e.quantity>=e.selectedProduct.current_stock:!1)),c(3),d("ngIf",e.saleType==="dose"),c(),d("ngIf",e.selectedProduct.current_stock===0),c(),d("disabled",e.selectedProduct.current_stock===0)}}function _o(r,a){if(r&1&&(n(0,"span",85),o(1),i()),r&2){let e=m(2);c(),ht(" (",e.cartItems.length," ",e.cartItems.length===1?"item":"itens",") ")}}function fo(r,a){if(r&1&&(Wt(0),o(1),$t()),r&2){let e=m().$implicit;c(),v(" ",e.combo.name," ")}}function ho(r,a){if(r&1&&o(0),r&2){let e=m().$implicit;v(" ",(e.product==null?null:e.product.name)||"Produto n\xE3o encontrado"," ")}}function xo(r,a){if(r&1){let e=y();n(0,"div",88)(1,"div",89)(2,"span",56),u(3,fo,2,1,"ng-container",90)(4,ho,1,1,"ng-template",null,1,Zt),i(),n(6,"span",91),o(7),i(),n(8,"span",57),o(9),i()(),n(10,"div",92)(11,"div",68)(12,"button",69),p("click",function(){let s=g(e).index,l=m(3);return _(l.updateQuantity(s,-1))}),n(13,"mat-icon"),o(14,"remove"),i()(),n(15,"span",70),o(16),i(),n(17,"button",69),p("click",function(){let s=g(e).index,l=m(3);return _(l.updateQuantity(s,1))}),n(18,"mat-icon"),o(19,"add"),i()()(),n(20,"span",93),o(21),i(),n(22,"button",94),p("click",function(){let s=g(e).index,l=m(3);return _(l.removeFromCart(s))}),n(23,"mat-icon"),o(24,"delete"),i()()()()}if(r&2){let e=a.$implicit,t=ft(5),s=m(3);c(3),d("ngIf",e.is_combo&&e.combo)("ngIfElse",t),c(3),M("dose",e.sale_type==="dose")("garrafa",e.sale_type==="garrafa"),c(),v(" ",e.sale_type==="dose"?"Dose":"Garrafa"," "),c(2),h(s.formatCurrency(s.getProductPrice(e.product||e.combo,e.sale_type))),c(3),d("disabled",e.quantity<=1),c(4),h(e.quantity),c(),d("disabled",((e.product==null?null:e.product.current_stock)||0)===0||(e.sale_type==="garrafa"?e.quantity>=((e.product==null?null:e.product.current_stock)||0):!1)),c(4),h(s.formatCurrency(e.subtotal))}}function Co(r,a){if(r&1&&(n(0,"div",86),u(1,xo,25,12,"div",87),i()),r&2){let e=m(2);c(),d("ngForOf",e.cartItems)}}function vo(r,a){r&1&&(n(0,"div",95)(1,"mat-icon"),o(2,"shopping_cart"),i(),n(3,"p"),o(4,"Carrinho vazio"),i()())}function yo(r,a){if(r&1){let e=y();n(0,"button",96),p("click",function(){g(e);let s=m(2);return _(s.clearCustomer())}),n(1,"mat-icon"),o(2,"clear"),i()()}}function bo(r,a){if(r&1&&(n(0,"span",106),o(1),i()),r&2){let e=m().$implicit;c(),h(e.phone)}}function Mo(r,a){if(r&1){let e=y();n(0,"div",103),p("click",function(){let s=g(e).$implicit,l=m(4);return _(l.selectCustomer(s))}),n(1,"div",32)(2,"span",56),o(3),i(),n(4,"span",104),o(5),i(),u(6,bo,2,1,"span",105),i(),n(7,"mat-icon"),o(8,"add"),i()()}if(r&2){let e=a.$implicit;c(3),h(e.name),c(2),h(e.email),c(),d("ngIf",e.phone)}}function So(r,a){if(r&1&&(n(0,"div",101),u(1,Mo,9,3,"div",102),i()),r&2){let e=m(3);c(),d("ngForOf",e.customerSearchResults)}}function Po(r,a){if(r&1){let e=y();n(0,"div",107)(1,"div",108),p("click",function(){g(e);let s=m(3);return _(s.openQuickCustomerDialog())}),n(2,"div",32)(3,"mat-icon"),o(4,"person_add"),i(),n(5,"span",56),o(6),i()(),n(7,"mat-icon"),o(8,"add"),i()()()}if(r&2){let e=m(3);c(6),v('Cadastrar novo cliente: "',e.customerSearchTerm,'"')}}function Oo(r,a){if(r&1){let e=y();n(0,"div",97)(1,"mat-form-field",19)(2,"mat-label"),o(3,"Buscar cliente por nome, telefone, email..."),i(),n(4,"input",98),I("ngModelChange",function(s){g(e);let l=m(2);return k(l.customerSearchTerm,s)||(l.customerSearchTerm=s),_(s)}),p("input",function(s){g(e);let l=m(2);return _(l.onCustomerSearch(s))}),i(),n(5,"mat-icon",21),o(6,"search"),i()(),u(7,So,2,1,"div",99)(8,Po,9,1,"div",100),i()}if(r&2){let e=m(2);c(4),w("ngModel",e.customerSearchTerm),c(3),d("ngIf",e.customerSearchResults.length>0),c(),d("ngIf",e.customerSearchResults.length===0&&e.customerSearchTerm.length>=2)}}function Eo(r,a){if(r&1&&(n(0,"span",106),o(1),i()),r&2){let e=m(3);c(),h(e.selectedCustomer.phone)}}function wo(r,a){if(r&1&&(n(0,"div",109)(1,"div",110)(2,"mat-icon"),o(3,"person"),i(),n(4,"div",111)(5,"span",56),o(6),i(),n(7,"span",104),o(8),i(),u(9,Eo,2,1,"span",105),i()()()),r&2){let e=m(2);c(6),h(e.selectedCustomer.name),c(2),h(e.selectedCustomer.email),c(),d("ngIf",e.selectedCustomer.phone)}}function ko(r,a){if(r&1){let e=y();n(0,"div",112)(1,"mat-form-field",19)(2,"mat-label"),o(3,"Nome do Cliente (opcional)"),i(),n(4,"input",113),I("ngModelChange",function(s){g(e);let l=m(2);return k(l.customerName,s)||(l.customerName=s),_(s)}),i(),n(5,"mat-icon",21),o(6,"person"),i()(),n(7,"mat-form-field",19)(8,"mat-label"),o(9,"Telefone (opcional)"),i(),n(10,"input",113),I("ngModelChange",function(s){g(e);let l=m(2);return k(l.customerPhone,s)||(l.customerPhone=s),_(s)}),i(),n(11,"mat-icon",21),o(12,"phone"),i()()()}if(r&2){let e=m(2);c(4),w("ngModel",e.customerName),c(6),w("ngModel",e.customerPhone)}}function Io(r,a){r&1&&(n(0,"p",114)(1,"mat-icon"),o(2,"info"),i(),o(3,' O pedido ser\xE1 gerado como pendente e aparecer\xE1 na lista de "Novos Pedidos" para despacho. '),i())}function Ao(r,a){r&1&&(n(0,"div",122)(1,"mat-icon",84),o(2,"warning"),i(),n(3,"span"),o(4,"Selecione um cliente para escolher o endere\xE7o de entrega"),i()())}function To(r,a){r&1&&(n(0,"div",122)(1,"mat-icon",84),o(2,"warning"),i(),n(3,"span"),o(4,"Cliente n\xE3o possui endere\xE7os cadastrados. Adicione um endere\xE7o para continuar."),i()())}function Do(r,a){if(r&1&&(n(0,"span"),o(1),i()),r&2){let e=m().$implicit;c(),v(" (",e.complement,")")}}function Fo(r,a){if(r&1&&(n(0,"span"),o(1),i()),r&2){let e=m().$implicit;c(),v(" (",e.name,")")}}function Vo(r,a){r&1&&(n(0,"mat-icon",127),o(1,"star"),i())}function Ro(r,a){if(r&1&&(n(0,"mat-option",54)(1,"div",124)(2,"span",125),o(3),u(4,Do,2,1,"span",59)(5,Fo,2,1,"span",59),i(),u(6,Vo,2,0,"mat-icon",126),i()()),r&2){let e=a.$implicit;d("value",e.id),c(3),Yt(" ",e.street,", ",e.number," - ",e.neighborhood," "),c(),d("ngIf",e.complement),c(),d("ngIf",e.name&&!e.complement),c(),d("ngIf",e.is_default)}}function Bo(r,a){if(r&1){let e=y();n(0,"mat-form-field",19)(1,"mat-label"),o(2,"Selecione o endere\xE7o"),i(),n(3,"mat-select",123),I("ngModelChange",function(s){g(e);let l=m(3);return k(l.selectedAddressId,s)||(l.selectedAddressId=s),_(s)}),p("selectionChange",function(s){g(e);let l=m(3);return _(l.onAddressChange(s.value))}),u(4,Ro,7,7,"mat-option",24),i()()}if(r&2){let e=m(3);c(3),w("ngModel",e.selectedAddressId),d("required",e.isPayOnDelivery),c(),d("ngForOf",e.customerAddresses)}}function No(r,a){if(r&1&&(n(0,"span",134),o(1),i()),r&2){let e=m(4);c(),h(e.estimatedDeliveryTime)}}function zo(r,a){if(r&1&&(n(0,"div",128)(1,"div",129)(2,"mat-icon"),o(3,"local_shipping"),i(),n(4,"div",130)(5,"span",131),o(6,"Frete:"),i(),n(7,"span",132),o(8),i(),u(9,No,2,1,"span",133),i()()()),r&2){let e=m(3);c(8),h(e.formatCurrency(e.deliveryFee)),c(),d("ngIf",e.estimatedDeliveryTime)}}function Lo(r,a){r&1&&(n(0,"div",135),C(1,"mat-spinner",136),n(2,"span"),o(3,"Calculando frete..."),i()())}function qo(r,a){if(r&1){let e=y();n(0,"div",115)(1,"div",116)(2,"h4"),o(3,"Endere\xE7o de Entrega"),i(),n(4,"button",117),p("click",function(){g(e);let s=m(2);return _(s.openNewAddressDialog())}),n(5,"mat-icon"),o(6,"add"),i()()(),u(7,Ao,5,0,"div",118)(8,To,5,0,"div",118)(9,Bo,5,3,"mat-form-field",119)(10,zo,10,2,"div",120)(11,Lo,4,0,"div",121),i()}if(r&2){let e=m(2);c(4),d("disabled",!e.selectedCustomer),c(3),d("ngIf",!e.selectedCustomer),c(),d("ngIf",e.selectedCustomer&&e.customerAddresses.length===0),c(),d("ngIf",e.selectedCustomer&&e.customerAddresses.length>0),c(),d("ngIf",e.selectedAddressId&&e.deliveryFee>0),c(),d("ngIf",e.loadingDeliveryFee)}}function jo(r,a){if(r&1&&(n(0,"div",141)(1,"div",142),o(2),i(),n(3,"div",143),o(4),i()()),r&2){let e=m(3);c(2),h(e.isPayOnDelivery?"Troco para levar":"Troco"),c(2),h(e.formatCurrency(e.changeAmount))}}function Wo(r,a){r&1&&(n(0,"div",144)(1,"mat-icon",84),o(2,"warning"),i(),n(3,"span"),o(4,"Valor insuficiente"),i()())}function $o(r,a){if(r&1){let e=y();n(0,"div",137)(1,"mat-form-field",19)(2,"mat-label"),o(3),i(),n(4,"input",138),I("ngModelChange",function(s){g(e);let l=m(2);return k(l.receivedAmount,s)||(l.receivedAmount=s),_(s)}),p("input",function(){g(e);let s=m(2);return _(s.onReceivedAmountChange())}),i(),n(5,"mat-icon",21),o(6,"attach_money"),i()(),u(7,jo,5,2,"div",139)(8,Wo,5,0,"div",140),i()}if(r&2){let e=m(2);c(3),h(e.isPayOnDelivery?"Valor que o cliente vai pagar":"Valor Recebido"),c(),w("ngModel",e.receivedAmount),c(3),d("ngIf",e.changeAmount>0),c(),d("ngIf",e.receivedAmount>0&&e.receivedAmount<e.total)}}function Qo(r,a){if(r&1){let e=y();n(0,"div",8)(1,"div",9)(2,"div",10)(3,"mat-icon"),o(4,"account_balance_wallet"),i(),n(5,"span"),o(6),i(),n(7,"button",11),p("click",function(){g(e);let s=m();return _(s.toggleCashValueVisibility())}),n(8,"mat-icon"),o(9),i()()(),n(10,"div",12)(11,"button",13),p("click",function(){g(e);let s=m();return _(s.openSangriaDialog())}),n(12,"mat-icon"),o(13,"money_off"),i(),o(14," Sangria "),i(),n(15,"button",14),p("click",function(){g(e);let s=m();return _(s.showCloseCashConfirmation())}),n(16,"mat-icon"),o(17,"lock"),i()()()(),n(18,"div",15)(19,"div",16)(20,"mat-card",17)(21,"mat-card-content")(22,"div",18)(23,"mat-form-field",19)(24,"mat-label"),o(25,"Buscar Produto"),i(),n(26,"input",20),I("ngModelChange",function(s){g(e);let l=m();return k(l.searchTerm,s)||(l.searchTerm=s),_(s)}),p("input",function(s){g(e);let l=m();return _(l.onSearch(s))}),i(),n(27,"mat-icon",21),o(28,"search"),i()(),n(29,"button",22),p("click",function(){g(e);let s=m();return _(s.openCopaoModal())}),n(30,"mat-icon"),o(31,"local_drink"),i(),o(32," \u{1F943} Montar Cop\xE3o / Dose "),i()(),n(33,"mat-autocomplete",23,0),p("optionSelected",function(s){g(e);let l=m();return _(l.selectProduct(s.option.value))}),u(35,ao,9,7,"mat-option",24),i(),u(36,go,29,13,"div",25),i()(),n(37,"mat-card",26)(38,"mat-card-header")(39,"mat-card-title"),o(40," Carrinho "),u(41,_o,2,2,"span",27),i()(),n(42,"mat-card-content"),u(43,Co,2,1,"div",28)(44,vo,5,0,"div",29),i()()(),n(45,"div",30)(46,"mat-card",31)(47,"mat-card-header")(48,"mat-card-title"),o(49,"Finalizar Venda"),i()(),n(50,"mat-card-content")(51,"div",32)(52,"div",33)(53,"h4"),o(54,"Cliente"),i(),n(55,"div",34)(56,"button",35),p("click",function(){g(e);let s=m();return _(s.toggleCustomerSearch())}),n(57,"mat-icon"),o(58,"search"),i()(),n(59,"button",36),p("click",function(){g(e);let s=m();return _(s.openQuickCustomerDialog())}),n(60,"mat-icon"),o(61,"person_add"),i()(),u(62,yo,3,0,"button",37),i()(),u(63,Oo,9,3,"div",38)(64,wo,10,3,"div",39)(65,ko,13,2,"div",40),i(),n(66,"div",41)(67,"div",42),o(68,"Total da Venda"),i(),n(69,"div",43),o(70),i()(),n(71,"div",44)(72,"mat-checkbox",45),I("ngModelChange",function(s){g(e);let l=m();return k(l.isPayOnDelivery,s)||(l.isPayOnDelivery=s),_(s)}),p("change",function(){g(e);let s=m();return _(s.onPayOnDeliveryChange())}),o(73," Pagamento na Entrega / Pendente "),i(),u(74,Io,4,0,"p",46),i(),u(75,qo,12,6,"div",47)(76,$o,9,4,"div",48),n(77,"div",49)(78,"button",50),p("click",function(){g(e);let s=m();return _(s.selectPaymentMethod("dinheiro"))}),n(79,"mat-icon"),o(80,"payments"),i(),o(81," Dinheiro "),i(),n(82,"button",50),p("click",function(){g(e);let s=m();return _(s.selectPaymentMethod("cart\xE3o de d\xE9bito"))}),n(83,"mat-icon"),o(84,"credit_card"),i(),o(85," D\xE9bito "),i(),n(86,"button",50),p("click",function(){g(e);let s=m();return _(s.selectPaymentMethod("cart\xE3o de cr\xE9dito"))}),n(87,"mat-icon"),o(88,"credit_card"),i(),o(89," Cr\xE9dito "),i(),n(90,"button",50),p("click",function(){g(e);let s=m();return _(s.selectPaymentMethod("pix"))}),n(91,"mat-icon"),o(92,"qr_code"),i(),o(93," PIX "),i()(),n(94,"div",51)(95,"button",52),p("click",function(){g(e);let s=m();return _(s.confirmAndFinalizeSale())}),n(96,"mat-icon"),o(97),i(),o(98),i()(),n(99,"button",53),p("click",function(){g(e);let s=m();return _(s.clearCart())}),n(100,"mat-icon"),o(101,"clear_all"),i(),o(102," Limpar Venda "),i()()()()()()}if(r&2){let e=ft(34),t=m();c(6),v("Caixa Aberto - ",t.getDisplayCashValue(),""),c(),Ht("matTooltip",t.showCashValue?"Ocultar valor":"Mostrar valor"),c(2),h(t.showCashValue?"visibility_off":"visibility"),c(17),w("ngModel",t.searchTerm),d("matAutocomplete",e),c(9),d("ngForOf",t.searchResults),c(),d("ngIf",t.selectedProduct),c(5),d("ngIf",t.cartItems.length),c(2),d("ngIf",t.cartItems.length>0),c(),d("ngIf",t.cartItems.length===0),c(12),d("color",t.showCustomerSearch?"primary":"basic"),c(6),d("ngIf",t.selectedCustomer),c(),d("ngIf",t.showCustomerSearch),c(),d("ngIf",t.selectedCustomer),c(),d("ngIf",!t.selectedCustomer),c(5),h(t.formatCurrency(t.total)),c(2),w("ngModel",t.isPayOnDelivery),d("disabled",!t.cartItems.length),c(2),d("ngIf",t.isPayOnDelivery),c(),d("ngIf",t.isPayOnDelivery),c(),d("ngIf",t.selectedPaymentMethod==="dinheiro"),c(2),M("selected",t.selectedPaymentMethod==="dinheiro"),d("disabled",!t.cartItems.length),c(4),M("selected",t.selectedPaymentMethod==="cart\xE3o de d\xE9bito"),d("disabled",!t.cartItems.length),c(4),M("selected",t.selectedPaymentMethod==="cart\xE3o de cr\xE9dito"),d("disabled",!t.cartItems.length),c(4),M("selected",t.selectedPaymentMethod==="pix"),d("disabled",!t.cartItems.length),c(5),d("disabled",!t.cartItems.length||!t.selectedPaymentMethod||t.selectedPaymentMethod==="dinheiro"&&t.receivedAmount<t.total),c(2),h(t.isPayOnDelivery?"local_shipping":"check_circle"),c(),v(" ",t.isPayOnDelivery?"Gerar Pedido de Entrega":"Finalizar Venda"," "),c(),d("disabled",!t.cartItems.length)}}function Go(r,a){if(r&1){let e=y();n(0,"div",145)(1,"div",146)(2,"div",147)(3,"mat-icon"),o(4,"account_balance_wallet"),i()(),n(5,"h2"),o(6,"Caixa Fechado"),i(),n(7,"p"),o(8,"Para iniciar as vendas, \xE9 necess\xE1rio abrir o caixa primeiro"),i(),n(9,"div",10)(10,"div",148)(11,"mat-icon"),o(12,"info"),i(),n(13,"span"),o(14,"Defina o valor inicial do caixa"),i()(),n(15,"div",148)(16,"mat-icon"),o(17,"security"),i(),n(18,"span"),o(19,"Ser\xE1 solicitada a senha de administrador"),i()()(),n(20,"button",149),p("click",function(){g(e);let s=m();return _(s.openCash())}),n(21,"mat-icon"),o(22,"vpn_key"),i(),o(23," Abrir Caixa "),i()()()}}var Gi=class r{constructor(a,e,t,s,l,f,S,z,O,P){this.cashService=a;this.stockService=e;this.orderService=t;this.dialog=s;this.snackBar=l;this.settingsService=f;this.deliveryZoneService=S;this.addressService=z;this.http=O;this.cdr=P;this.searchSubject.pipe(lt(300),dt(),T(this.destroy$)).subscribe(j=>{j?this.searchProducts(j):this.searchResults=[]}),this.customerSearchSubject.pipe(lt(300),dt(),T(this.destroy$)).subscribe(j=>{j&&j.length>=2?this.searchCustomers(j):this.customerSearchResults=[]})}cashStatus=null;loading=!0;cartItems=[];total=0;searchTerm="";searchResults=[];selectedProduct=null;quantity=1;saleType="garrafa";customerName="";customerPhone="";customerEmail="";customerDocument="";selectedCustomer=null;customerSearchTerm="";customerSearchResults=[];showCustomerSearch=!1;receivedAmount=0;changeAmount=0;showChangeSection=!1;showCashValue=!1;settings=null;isPayOnDelivery=!1;selectedPaymentMethod=null;customerAddresses=[];selectedAddressId=null;deliveryFee=0;loadingDeliveryFee=!1;estimatedDeliveryTime="";destroy$=new ee;searchSubject=new ee;customerSearchSubject=new ee;openSangriaDialog(){if(!this.cashStatus){this.snackBar.open("Caixa n\xE3o est\xE1 aberto","Fechar",{duration:3e3});return}this.dialog.open(ot,{width:"420px",data:{currentAmount:this.cashStatus.current_amount}}).afterClosed().subscribe(e=>{e&&this.cashService.addTransaction({type:"saida",amount:e.amount,description:`Sangria: ${e.description}`}).subscribe({next:()=>{this.cashStatus&&(this.cashStatus.current_amount=Math.max(0,this.cashStatus.current_amount-e.amount)),this.snackBar.open("Sangria registrada com sucesso","Fechar",{duration:3e3})},error:()=>{this.snackBar.open("Erro ao registrar sangria","Fechar",{duration:3e3})}})})}ngOnInit(){this.loadCashStatus(),this.settingsService.getSettings().subscribe({next:a=>this.settings=a,error:()=>{}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCashStatus(){this.cashService.getStatus().pipe(T(this.destroy$)).subscribe({next:a=>{this.cashStatus=a,this.loading=!1},error:a=>{console.error("Erro ao carregar status do caixa:",a),this.snackBar.open("Erro ao carregar status do caixa","Fechar",{duration:3e3}),this.loading=!1}})}openCash(){this.dialog.open(nt,{width:"360px"}).afterClosed().pipe(T(this.destroy$)).subscribe(e=>{!e||e.initialAmount===void 0||(this.loading=!0,this.cashService.openCash(e.initialAmount).pipe(T(this.destroy$)).subscribe({next:t=>{this.cashStatus=t,this.loading=!1,this.snackBar.open("Caixa aberto com sucesso","Fechar",{duration:3e3})},error:t=>{console.error("Erro ao abrir caixa:",t),this.loading=!1,this.snackBar.open("Erro ao abrir caixa","Fechar",{duration:3e3})}}))})}onSearch(a){this.searchSubject.next(a.target.value)}searchProducts(a){this.stockService.getStock({search:a}).pipe(T(this.destroy$)).subscribe({next:e=>{this.searchResults=e.data},error:e=>{console.error("Erro ao buscar produtos:",e),this.snackBar.open("Erro ao buscar produtos","Fechar",{duration:3e3})}})}searchCustomers(a){this.orderService.searchCustomers(a).pipe(T(this.destroy$)).subscribe({next:e=>{this.customerSearchResults=e},error:e=>{console.error("Erro ao buscar clientes:",e),this.snackBar.open("Erro ao buscar clientes: "+e.message,"Fechar",{duration:3e3})}})}onCustomerSearch(a){this.customerSearchTerm=a.target.value,this.customerSearchSubject.next(this.customerSearchTerm)}selectCustomer(a){this.selectedCustomer=a,this.customerName=a.name,this.customerPhone=a.phone||"",this.customerEmail=a.email,this.customerDocument=a.document_number||"",this.customerSearchTerm="",this.customerSearchResults=[],this.showCustomerSearch=!1,this.loadCustomerAddresses().subscribe()}loadCustomerAddresses(a){return this.selectedCustomer?this.http.get(`${Se.apiUrl}/addresses?user_id=${this.selectedCustomer.id}`).pipe(T(this.destroy$),Ee(e=>{this.customerAddresses=e.map(s=>({id:s.id,name:s.name,street:s.street,number:s.number,complement:s.complement,neighborhood:s.neighborhood,full_address:this.addressService.formatAddress(s),short_address:this.addressService.formatShortAddress(s),is_default:s.is_default}));let t;return a&&(t=this.customerAddresses.find(s=>s.id===a)),t||(t=this.customerAddresses.find(s=>s.is_default)||this.customerAddresses[0]),t&&(this.selectedAddressId=t.id,this.isPayOnDelivery&&setTimeout(()=>{this.calculateDeliveryFee(t.id)},100)),this.cdr.detectChanges(),this.customerAddresses}),Pt(e=>(console.error("Erro ao carregar endere\xE7os:",e),this.customerAddresses=[],this.cdr.detectChanges(),ne([])))):(this.customerAddresses=[],this.cdr.detectChanges(),ne([]))}onAddressChange(a){this.selectedAddressId=a,a&&this.isPayOnDelivery?this.calculateDeliveryFee(a):(this.deliveryFee=0,this.estimatedDeliveryTime="",this.updateTotal())}calculateDeliveryFee(a){if(!this.isPayOnDelivery||!a){this.deliveryFee=0;return}this.http.get(`${Se.apiUrl}/addresses/${a}`).pipe(T(this.destroy$)).subscribe({next:e=>{e.zipcode&&this.fetchDeliveryFee(e.zipcode)},error:e=>{console.error("Erro ao buscar endere\xE7o:",e),this.snackBar.open("Erro ao buscar dados do endere\xE7o","Fechar",{duration:3e3})}})}fetchDeliveryFee(a){this.loadingDeliveryFee=!0,this.deliveryZoneService.calculateFrete(a).pipe(T(this.destroy$)).subscribe({next:e=>{this.deliveryFee=parseFloat(String(e?.valor_frete??"0"))||0,this.estimatedDeliveryTime=e?.tempo_estimado||"",this.loadingDeliveryFee=!1,this.updateTotal()},error:e=>{console.error("Erro ao calcular frete:",e),this.deliveryFee=0,this.estimatedDeliveryTime="",this.loadingDeliveryFee=!1,this.updateTotal(),e.status===404?this.snackBar.open("Infelizmente, ainda n\xE3o atendemos este CEP.","Fechar",{duration:5e3}):this.snackBar.open("Erro ao calcular frete. Tente novamente.","Fechar",{duration:3e3})}})}onPayOnDeliveryChange(){if(!this.isPayOnDelivery)this.selectedAddressId=null,this.deliveryFee=0,this.estimatedDeliveryTime="",this.updateTotal();else{if(!this.selectedCustomer){this.snackBar.open('Selecione um cliente antes de marcar "Pagamento na Entrega"',"Fechar",{duration:3e3}),setTimeout(()=>{this.isPayOnDelivery=!1},100);return}this.customerAddresses.length===0?this.loadCustomerAddresses().subscribe():this.selectedAddressId&&this.calculateDeliveryFee(this.selectedAddressId)}}openNewAddressDialog(){if(!this.selectedCustomer){this.snackBar.open("Selecione um cliente antes de adicionar endere\xE7o","Fechar",{duration:3e3});return}import("./chunk-OE7OWOJV.js").then(a=>{this.dialog.open(a.NewAddressDialogComponent,{width:"500px",maxWidth:"95vw",data:{customerId:this.selectedCustomer.id}}).afterClosed().subscribe(t=>{t&&this.loadCustomerAddresses(t.id).subscribe({next:s=>{this.isPayOnDelivery&&this.selectedAddressId&&this.calculateDeliveryFee(this.selectedAddressId),this.snackBar.open("Endere\xE7o cadastrado e selecionado com sucesso!","Fechar",{duration:3e3})},error:s=>{console.error("Erro ao recarregar endere\xE7os:",s),this.snackBar.open("Endere\xE7o cadastrado, mas houve erro ao recarregar a lista","Fechar",{duration:3e3})}})})})}clearCustomer(){this.selectedCustomer=null,this.customerName="",this.customerPhone="",this.customerEmail="",this.customerDocument="",this.customerSearchTerm="",this.customerSearchResults=[],this.showCustomerSearch=!1,this.customerAddresses=[],this.selectedAddressId=null,this.deliveryFee=0,this.estimatedDeliveryTime=""}toggleCustomerSearch(){this.showCustomerSearch=!this.showCustomerSearch,this.showCustomerSearch&&(this.customerSearchTerm="",this.customerSearchResults=[])}openQuickCustomerDialog(){this.dialog.open(Je,{width:"500px",maxWidth:"95vw",data:{}}).afterClosed().subscribe(e=>{e&&(this.selectCustomer(e),this.snackBar.open("Cliente criado e selecionado com sucesso!","Fechar",{duration:3e3}))})}selectProduct(a){this.selectedProduct=a,this.quantity=1,this.saleType=(a.can_sell_by_dose,"garrafa"),this.searchTerm="",this.searchResults=[]}addToCart(){if(!this.selectedProduct||this.quantity<1)return;if(this.saleType==="garrafa"){if(this.selectedProduct.current_stock<=0){this.snackBar.open("Produto sem estoque dispon\xEDvel","Fechar",{duration:3e3});return}if(this.quantity>this.selectedProduct.current_stock){this.snackBar.open("Quantidade excede o estoque dispon\xEDvel","Fechar",{duration:3e3});return}}else{let e=this.quantity,t=Math.ceil(e/this.selectedProduct.doses_por_garrafa);if(this.selectedProduct.current_stock<t){this.snackBar.open(`Produto n\xE3o possui garrafas suficientes para as doses solicitadas (necess\xE1rio: ${t} garrafas)`,"Fechar",{duration:3e3});return}}let a=this.cartItems.find(e=>e.product?.id===this.selectedProduct.id&&e.sale_type===this.saleType);if(a){let e=a.quantity+this.quantity;if(this.saleType==="garrafa"){if(e>this.selectedProduct.current_stock){this.snackBar.open("Quantidade excede o estoque dispon\xEDvel","Fechar",{duration:3e3});return}}else{let s=Math.ceil(e/this.selectedProduct.doses_por_garrafa);if(this.selectedProduct.current_stock<s){this.snackBar.open("Quantidade excede as garrafas dispon\xEDveis para convers\xE3o","Fechar",{duration:3e3});return}}a.quantity=e,a.subtotal=e*this.getProductPrice(this.selectedProduct,this.saleType)}else this.cartItems.push({product:this.selectedProduct,quantity:this.quantity,sale_type:this.saleType,subtotal:this.quantity*this.getProductPrice(this.selectedProduct,this.saleType)});this.updateTotal(),this.selectedProduct=null,this.quantity=1,this.saleType="garrafa"}removeFromCart(a){this.cartItems.splice(a,1),this.updateTotal()}updateQuantity(a,e){let t=this.cartItems[a],s=t.quantity+e;if(!(s<1)){if(t.sale_type==="garrafa"){if(t.product&&s>t.product.current_stock)return}else if(t.product){let f=Math.ceil(s/t.product.doses_por_garrafa);if(t.product.current_stock<f)return}t.quantity=s,t.subtotal=s*this.getProductPrice(t.product||t.combo,t.sale_type),this.updateTotal()}}updateTotal(){this.total=this.cartItems.reduce((a,e)=>a+e.subtotal,0)+this.deliveryFee}clearCart(){this.cartItems=[],this.total=0,this.customerName="",this.customerPhone="",this.customerEmail="",this.customerDocument="",this.selectedCustomer=null,this.customerAddresses=[],this.selectedAddressId=null,this.deliveryFee=0,this.estimatedDeliveryTime="",this.isPayOnDelivery=!1,this.customerSearchTerm="",this.customerSearchResults=[],this.showCustomerSearch=!1,this.receivedAmount=0,this.changeAmount=0,this.selectedPaymentMethod=null}onReceivedAmountChange(){this.receivedAmount>0?this.changeAmount=Math.max(0,this.receivedAmount-this.total):this.changeAmount=0}selectPaymentMethod(a){if(!this.cartItems.length){this.snackBar.open("Adicione produtos ao carrinho","Fechar",{duration:3e3});return}this.selectedPaymentMethod=a,a==="dinheiro"&&(this.receivedAmount=0,this.changeAmount=0)}confirmAndFinalizeSale(){if(!this.selectedPaymentMethod){this.snackBar.open("Selecione um m\xE9todo de pagamento","Fechar",{duration:3e3});return}if(this.selectedPaymentMethod==="dinheiro"&&this.receivedAmount<this.total){this.snackBar.open("Valor recebido insuficiente","Fechar",{duration:3e3});return}if(this.isPayOnDelivery){let a=this.getPaymentMethodName(this.selectedPaymentMethod);this.dialog.open(Ce,{width:"500px",data:{orderNumber:null,total:this.total,paymentMethod:this.selectedPaymentMethod,customerName:this.selectedCustomer?.name||this.customerName,changeAmount:this.selectedPaymentMethod==="dinheiro"?this.changeAmount:void 0,receivedAmount:this.selectedPaymentMethod==="dinheiro"?this.receivedAmount:void 0,isDeliveryConfirmation:!0,deliveryFee:this.deliveryFee,confirmMessage:`Pedido de ENTREGA - Total: ${this.formatCurrency(this.total)}

M\xE9todo de pagamento: ${a}`},disableClose:!0}).afterClosed().subscribe(t=>{t==="pay_on_delivery"?this.finalizeSale(this.selectedPaymentMethod,"pending"):t==="already_paid"&&this.finalizeSale(this.selectedPaymentMethod,"completed")})}else{let a=this.getPaymentMethodName(this.selectedPaymentMethod),e=`Confirmar recebimento de ${this.formatCurrency(this.total)} no ${a} agora?`;this.selectedPaymentMethod==="dinheiro"&&this.changeAmount>0&&(e+=`

Troco: ${this.formatCurrency(this.changeAmount)}`),this.dialog.open(Ce,{width:"450px",data:{orderNumber:null,total:this.total,paymentMethod:this.selectedPaymentMethod,customerName:this.selectedCustomer?.name||this.customerName,changeAmount:this.selectedPaymentMethod==="dinheiro"?this.changeAmount:void 0,receivedAmount:this.selectedPaymentMethod==="dinheiro"?this.receivedAmount:void 0,isConfirmation:!0,confirmMessage:e},disableClose:!0}).afterClosed().subscribe(s=>{s&&this.finalizeSale(this.selectedPaymentMethod,"completed")})}}getPaymentMethodName(a){return{dinheiro:"Dinheiro","cart\xE3o de d\xE9bito":"Cart\xE3o de D\xE9bito","cart\xE3o de cr\xE9dito":"Cart\xE3o de Cr\xE9dito",pix:"PIX"}[a]||a}finalizeSale(a,e="completed"){if(this.settings&&Array.isArray(this.settings.accepted_payment_methods)){let f={dinheiro:"cash",pix:"pix","cart\xE3o de d\xE9bito":"debit_card","cart\xE3o de cr\xE9dito":"credit_card"}[a],S=this.settings.accepted_payment_methods.find(z=>z.method===f);if(S&&S.enabled===!1){this.snackBar.open("Forma de pagamento desabilitada nas configura\xE7\xF5es","Fechar",{duration:3e3});return}}if(!this.cartItems.length){this.snackBar.open("Adicione produtos ao carrinho","Fechar",{duration:3e3});return}if(this.isPayOnDelivery){if(this.selectedCustomer){if(!this.selectedCustomer.addresses||this.selectedCustomer.addresses.length===0){this.snackBar.open("Cliente selecionado n\xE3o possui endere\xE7o cadastrado. Por favor, cadastre um endere\xE7o antes de gerar o pedido de entrega.","Fechar",{duration:5e3});return}}else if(!this.customerName||!this.customerPhone){this.snackBar.open("Para pedidos de entrega, \xE9 necess\xE1rio selecionar um cliente cadastrado ou informar nome e telefone do cliente.","Fechar",{duration:5e3});return}}if(this.isPayOnDelivery){if(!this.selectedCustomer){this.snackBar.open("Para pedidos de entrega, \xE9 necess\xE1rio selecionar um cliente cadastrado.","Fechar",{duration:5e3});return}if(!this.selectedAddressId){this.snackBar.open("Selecione um endere\xE7o de entrega para continuar.","Fechar",{duration:5e3});return}if(this.deliveryFee===null||this.deliveryFee===void 0){this.snackBar.open("Aguarde o c\xE1lculo do frete antes de finalizar.","Fechar",{duration:3e3});return}}let t=a.toLowerCase()==="dinheiro";if(t){if(this.receivedAmount<this.total){this.snackBar.open("Valor recebido insuficiente","Fechar",{duration:3e3});return}this.changeAmount=this.receivedAmount-this.total}let s={items:this.cartItems.map(l=>({product_id:l.product?.id,combo_id:l.combo?.id,quantity:l.quantity,sale_type:l.sale_type,price:l.product?.price||l.combo?.price||0})),total:this.total-this.deliveryFee,delivery_fee:this.isPayOnDelivery&&this.deliveryFee||0,payment_method:a,customer_name:this.customerName||void 0,customer_phone:this.customerPhone||void 0,customer_email:this.customerEmail||void 0,customer_document:this.customerDocument||void 0,received_amount:t?this.receivedAmount:void 0,change_amount:t?this.changeAmount:void 0,status:this.isPayOnDelivery?"pending":"completed",payment_status:e,delivery_address_id:this.isPayOnDelivery&&this.selectedAddressId?this.selectedAddressId:void 0};this.orderService.createOrder(s).pipe(T(this.destroy$)).subscribe({next:l=>{this.isPayOnDelivery?(this.snackBar.open("Pedido de entrega gerado com sucesso!","Fechar",{duration:3e3}),this.showPrintConfirmation(l,a)):this.orderService.completeOrder(l.id).pipe(T(this.destroy$)).subscribe({next:()=>{console.log("Status do pedido atualizado para conclu\xEDdo"),this.showPrintConfirmation(l,a)},error:f=>{console.error("Erro ao atualizar status do pedido:",f),this.showPrintConfirmation(l,a)}})},error:l=>{console.error("Erro ao finalizar venda:",l),this.snackBar.open(l.message||"Erro ao finalizar venda","Fechar",{duration:3e3})}})}showPrintConfirmation(a,e){let t=e.toLowerCase()==="dinheiro",s={orderNumber:a.order_number,total:a.total,paymentMethod:e,customerName:a.customer_name,changeAmount:t?this.changeAmount:void 0,receivedAmount:t?this.receivedAmount:void 0};this.dialog.open(Ce,{width:"450px",data:s,disableClose:!0}).afterClosed().subscribe(f=>{f&&this.printReceipt(a,e),this.updateCashAmount(a.total,e),this.clearCart()})}printReceipt(a,e){try{let t=new Date,s=t.toLocaleDateString("pt-BR"),l=t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),f=P=>{let j=parseFloat(P);return isNaN(j)?0:j},S=P=>P?{dinheiro:"Dinheiro",cartao:"Cart\xE3o",pix:"PIX",credito:"Cart\xE3o de Cr\xE9dito",debito:"Cart\xE3o de D\xE9bito"}[P]||P:"N\xE3o informado",z=`
        <!DOCTYPE html>
        <html>
          <head>
            <meta charset="UTF-8">
            <title>Comprovante de Venda #${a.order_number}</title>
            <style>
              @media print {
                @page {
                  size: 80mm 297mm;
                  margin: 0;
                }
              }
              body {
                font-family: 'Courier New', monospace;
                width: 80mm;
                padding: 5mm;
                margin: 0;
                box-sizing: border-box;
              }
              .header {
                text-align: center;
                margin-bottom: 10mm;
              }
              .header h1 {
                font-size: 16pt;
                margin: 0;
              }
              .header p {
                font-size: 10pt;
                margin: 2mm 0;
              }
              .order-info {
                margin-bottom: 5mm;
                font-size: 10pt;
              }
              .customer-info {
                margin-bottom: 5mm;
                font-size: 10pt;
              }
              .items {
                border-top: 1px dashed #000;
                border-bottom: 1px dashed #000;
                padding: 3mm 0;
                margin: 3mm 0;
              }
              .item {
                font-size: 10pt;
                margin: 2mm 0;
              }
              .item .quantity {
                display: inline-block;
                width: 15mm;
              }
              .item .name {
                display: inline-block;
                width: 40mm;
              }
              .item .price {
                display: inline-block;
                width: 20mm;
                text-align: right;
              }
              .total {
                text-align: right;
                font-size: 12pt;
                font-weight: bold;
                margin: 5mm 0;
              }
              .payment-info {
                font-size: 10pt;
                margin: 2mm 0;
              }
              .footer {
                text-align: center;
                font-size: 10pt;
                margin-top: 10mm;
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>ADEGA GS</h1>
              <p>CNPJ: XX.XXX.XXX/0001-XX</p>
              <p>Rua Exemplo, 123 - Centro</p>
              <p>Tel: (11) 9999-9999</p>
            </div>

            <div class="order-info">
              <p><strong>Pedido:</strong> #${a.order_number}</p>
              <p><strong>Data:</strong> ${s} ${l}</p>
              <p><strong>Vendedor:</strong> ${a.customer_name||"Balc\xE3o"}</p>
            </div>

            ${a.customer_name?`
              <div class="customer-info">
                <p><strong>Cliente:</strong> ${a.customer_name}</p>
                ${a.customer_phone?`<p><strong>Telefone:</strong> ${a.customer_phone}</p>`:""}
              </div>
            `:""}
            
            <div class="items">
              ${a.items.map(P=>`
                <div class="item">
                  <span class="quantity">${P.quantity}x</span>
                  <span class="name">${P.is_combo&&P.combo?P.combo.name:P.product?.name||"Produto n\xE3o encontrado"}</span>
                  <span class="price">R$ ${f(P.subtotal).toFixed(2)}</span>
                </div>
              `).join("")}
            </div>

            <div class="total">
              Total: R$ ${f(a.total).toFixed(2)}
            </div>
            
            <div class="payment-info">
              <p><strong>Forma de Pagamento:</strong> ${S(e||a.payment_method)}</p>
              ${(e||a.payment_method)==="dinheiro"&&this.receivedAmount?`
                <p><strong>Valor recebido:</strong> R$ ${f(this.receivedAmount).toFixed(2)}</p>
                <p><strong>TROCO:</strong> R$ ${f(this.changeAmount).toFixed(2)}</p>
              `:""}
            </div>
            
            <div class="footer">
              <p>Agradecemos a prefer\xEAncia!</p>
              <p>www.adegags.com.br</p>
            </div>
          </body>
        </html>
      `,O=window.open("","_blank","width=600,height=800");if(O)O.document.open(),O.document.write(z),O.document.close(),O.onload=()=>{setTimeout(()=>{O.print(),setTimeout(()=>{O.close()},1e3)},500)},setTimeout(()=>{O.closed||(O.print(),setTimeout(()=>{O.close()},1e3))},1e3);else{console.warn("N\xE3o foi poss\xEDvel abrir janela de impress\xE3o, usando fallback");let P=document.createElement("div");P.innerHTML=z,P.style.display="none",document.body.appendChild(P),window.print(),setTimeout(()=>{document.body.removeChild(P)},1e3)}}catch(t){console.error("Erro ao imprimir:",t),this.snackBar.open("Erro ao imprimir comprovante","Fechar",{duration:3e3})}}formatCurrency(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}ceil(a){return Math.ceil(a)}getProductPrice(a,e){return e==="dose"&&a.can_sell_by_dose&&a.dose_price?a.dose_price:a.price}toggleCashValueVisibility(){this.showCashValue=!this.showCashValue}getDisplayCashValue(){return this.cashStatus?this.showCashValue?this.formatCurrency(this.cashStatus.current_amount):"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"R$ 0,00"}showCloseCashConfirmation(){if(!this.cashStatus)return;this.dialog.open(at,{width:"500px",data:{cashStatus:this.cashStatus},disableClose:!0}).afterClosed().subscribe(e=>{e&&this.closeCash()})}closeCash(){this.loading=!0,this.cashService.closeCash().pipe(T(this.destroy$)).subscribe({next:a=>{this.cashStatus=null,this.loading=!1,this.showClosingReport(a),this.snackBar.open("Caixa fechado com sucesso","Fechar",{duration:3e3})},error:a=>{console.error("Erro ao fechar caixa:",a),this.snackBar.open("Erro ao fechar caixa","Fechar",{duration:3e3}),this.loading=!1}})}showClosingReport(a){console.log("Relat\xF3rio de fechamento:",a)}openCopaoModal(){this.dialog.open(rt,{width:"900px",maxWidth:"95vw",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe(e=>{!e||!e.products||e.products.length===0||(e.products.forEach(t=>{let s=this.cartItems.find(l=>l.product?.id===t.product.id&&l.sale_type===t.sale_type);if(s){let l=s.quantity+t.quantity;if(t.sale_type==="garrafa"){if(l>t.product.current_stock){this.snackBar.open(`Quantidade excede o estoque dispon\xEDvel para ${t.product.name}`,"Fechar",{duration:3e3});return}}else{let S=Math.ceil(l/(t.product.doses_por_garrafa||1));if(t.product.current_stock<S){this.snackBar.open(`Produto n\xE3o possui garrafas suficientes para as doses solicitadas de ${t.product.name}`,"Fechar",{duration:3e3});return}}s.quantity=l,s.subtotal=l*this.getProductPrice(t.product,t.sale_type)}else{if(t.sale_type==="garrafa"){if(t.product.current_stock<=0){this.snackBar.open(`${t.product.name} sem estoque dispon\xEDvel`,"Fechar",{duration:3e3});return}if(t.quantity>t.product.current_stock){this.snackBar.open(`Quantidade excede o estoque dispon\xEDvel para ${t.product.name}`,"Fechar",{duration:3e3});return}}else{let l=t.quantity,f=Math.ceil(l/(t.product.doses_por_garrafa||1));if(t.product.current_stock<f){this.snackBar.open(`Produto n\xE3o possui garrafas suficientes para as doses solicitadas de ${t.product.name}`,"Fechar",{duration:3e3});return}}this.cartItems.push({product:t.product,quantity:t.quantity,sale_type:t.sale_type,subtotal:t.quantity*this.getProductPrice(t.product,t.sale_type)})}}),this.updateTotal(),this.snackBar.open("Cop\xE3o adicionado ao carrinho!","Fechar",{duration:3e3}))})}updateCashAmount(a,e){if(!this.cashStatus)return;let t=Number(a)||0,s=0;switch(e){case"dinheiro":let l=Number(this.receivedAmount||t)||0,f=Number(this.changeAmount)||0;s=l-f;break;case"cart\xE3o de d\xE9bito":case"cart\xE3o de cr\xE9dito":case"pix":s=t;break;default:s=t}this.cashService.addTransaction({type:"entrada",amount:s,description:`Venda - ${e} - R$ ${this.formatCurrency(a)}`}).subscribe({next:()=>{this.cashService.getStatus().subscribe(l=>{this.cashStatus=l,console.log("Valor do caixa atualizado:",this.cashStatus?.current_amount)})},error:l=>{console.error("Erro ao atualizar valor do caixa:",l)}})}static \u0275fac=function(e){return new(e||r)(x(Vi),x(Ri),x(We),x(Fi),x(oe),x(Ze),x(Ai),x(Ii),x(ei),x(Me))};static \u0275cmp=E({type:r,selectors:[["app-caixa"]],decls:6,vars:3,consts:[["auto","matAutocomplete"],["productName",""],[1,"caixa-container"],["class","loading-container",4,"ngIf"],["class","caixa-content",4,"ngIf"],["class","closed-cash",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"caixa-content"],[1,"caixa-header"],[1,"cash-info"],["mat-icon-button","",1,"visibility-button",3,"click","matTooltip"],[1,"cash-actions"],["mat-raised-button","","color","warn","matTooltip","Sangria de Caixa",3,"click"],["mat-icon-button","","matTooltip","Fechar Caixa",1,"close-cash-button",3,"click"],[1,"caixa-grid"],[1,"left-column"],[1,"search-card"],[1,"search-header"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Digite o nome ou c\xF3digo de barras",3,"ngModelChange","input","ngModel","matAutocomplete"],["matSuffix",""],["mat-raised-button","","color","accent",1,"copao-button",3,"click"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["class","selected-product",4,"ngIf"],[1,"cart-card"],["class","item-count",4,"ngIf"],["class","cart-items",4,"ngIf"],["class","empty-cart",4,"ngIf"],[1,"right-column"],[1,"checkout-card"],[1,"customer-info"],[1,"customer-search-header"],[1,"customer-actions"],["mat-icon-button","","matTooltip","Buscar cliente cadastrado",3,"click","color"],["mat-icon-button","","color","accent","matTooltip","Criar novo cliente",3,"click"],["mat-icon-button","","color","warn","matTooltip","Limpar cliente",3,"click",4,"ngIf"],["class","customer-search",4,"ngIf"],["class","selected-customer",4,"ngIf"],["class","manual-customer-fields",4,"ngIf"],[1,"total-section"],[1,"total-label"],[1,"total-value"],[1,"delivery-payment-section"],[1,"delivery-checkbox",3,"ngModelChange","change","ngModel","disabled"],["class","delivery-hint",4,"ngIf"],["class","address-selection-section",4,"ngIf"],["class","change-section",4,"ngIf"],[1,"payment-methods"],["mat-raised-button","","color","primary",1,"payment-button",3,"click","disabled"],[1,"finalize-section"],["mat-raised-button","","color","accent",1,"finalize-button",3,"click","disabled"],["mat-stroked-button","","color","warn",1,"clear-button",3,"click","disabled"],[3,"value"],[1,"product-option"],[1,"name"],[1,"price"],[1,"stock"],[4,"ngIf"],[1,"selected-product"],[1,"product-info"],[1,"price-info"],["class","dose-price",4,"ngIf"],[1,"product-details"],["class","doses-info",4,"ngIf"],["class","sale-type-selection",4,"ngIf"],["class","dose-unavailable-info",4,"ngIf"],[1,"quantity-control"],["mat-icon-button","",3,"click","disabled"],[1,"quantity"],["class","dose-info",4,"ngIf"],["class","stock-warning",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],[1,"dose-price"],[1,"doses-info"],[1,"sale-type-selection"],[3,"ngModelChange","ngModel"],["value","garrafa"],["value","dose",4,"ngIf"],["value","dose"],[1,"dose-unavailable-info"],[1,"dose-info"],[1,"stock-warning"],["color","warn"],[1,"item-count"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-item"],[1,"item-info"],[4,"ngIf","ngIfElse"],[1,"sale-type"],[1,"item-controls"],[1,"subtotal"],["mat-icon-button","","color","warn",3,"click"],[1,"empty-cart"],["mat-icon-button","","color","warn","matTooltip","Limpar cliente",3,"click"],[1,"customer-search"],["matInput","","placeholder","Digite para buscar",3,"ngModelChange","input","ngModel"],["class","customer-results",4,"ngIf"],["class","create-customer-option",4,"ngIf"],[1,"customer-results"],["class","customer-result",3,"click",4,"ngFor","ngForOf"],[1,"customer-result",3,"click"],[1,"email"],["class","phone",4,"ngIf"],[1,"phone"],[1,"create-customer-option"],[1,"customer-result","create-new",3,"click"],[1,"selected-customer"],[1,"customer-details"],[1,"customer-data"],[1,"manual-customer-fields"],["matInput","",3,"ngModelChange","ngModel"],[1,"delivery-hint"],[1,"address-selection-section"],[1,"address-header"],["mat-icon-button","","color","primary","matTooltip","Adicionar novo endere\xE7o",3,"click","disabled"],["class","address-warning",4,"ngIf"],["appearance","outline","class","full-width",4,"ngIf"],["class","delivery-fee-display",4,"ngIf"],["class","loading-fee",4,"ngIf"],[1,"address-warning"],[3,"ngModelChange","selectionChange","ngModel","required"],[1,"address-option"],[1,"address-full"],["class","default-badge",4,"ngIf"],[1,"default-badge"],[1,"delivery-fee-display"],[1,"fee-info"],[1,"fee-details"],[1,"fee-label"],[1,"fee-value"],["class","delivery-time",4,"ngIf"],[1,"delivery-time"],[1,"loading-fee"],["diameter","20"],[1,"change-section"],["matInput","","type","number","placeholder","0.00","step","0.01","min","0",3,"ngModelChange","input","ngModel"],["class","change-display",4,"ngIf"],["class","insufficient-amount",4,"ngIf"],[1,"change-display"],[1,"change-label"],[1,"change-value"],[1,"insufficient-amount"],[1,"closed-cash"],[1,"closed-cash-content"],[1,"cash-icon"],[1,"info-item"],["mat-raised-button","","color","primary",1,"open-cash-button",3,"click"]],template:function(e,t){e&1&&(n(0,"div",2)(1,"h1"),o(2,"PDV - Ponto de Venda"),i(),u(3,no,4,0,"div",3)(4,Qo,103,37,"div",4)(5,Go,24,0,"div",5),i()),e&2&&(c(3),d("ngIf",t.loading),c(),d("ngIf",!t.loading&&(t.cashStatus==null?null:t.cashStatus.is_open)),c(),d("ngIf",!t.loading&&!(t.cashStatus!=null&&t.cashStatus.is_open)))},dependencies:[D,Ae,L,le,W,se,$,Le,ce,re,Z,$e,Ge,He,Qe,V,F,Fe,B,R,X,U,H,Q,G,Y,N,ae,Wi,qi,Ue,Mt,Xe,Bi,me,de,wi,Ei,J,Oi,Pi,Di,Ti],styles:[".caixa-container[_ngcontent-%COMP%]{padding:20px}h1[_ngcontent-%COMP%]{margin-bottom:24px;font-size:24px;font-weight:500;color:#000000de}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#0009}.caixa-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;margin-bottom:20px;border-bottom:1px solid #e0e0e0}.cash-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.cash-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#2e7d32}.cash-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2e7d32}.visibility-button[_ngcontent-%COMP%]{color:#666;transition:all .2s ease;margin-left:8px}.visibility-button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#1976d2}.visibility-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:inherit}.close-cash-button[_ngcontent-%COMP%]{color:#f44336;transition:all .2s ease}.close-cash-button[_ngcontent-%COMP%]:hover{background-color:#ffebee;transform:scale(1.05)}.close-cash-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.caixa-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:20px;height:calc(100vh - 200px)}.left-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.search-header[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start;flex-wrap:wrap}.search-header[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1;min-width:200px}.copao-button[_ngcontent-%COMP%]{white-space:nowrap;min-width:200px;height:56px;font-size:.95rem}.copao-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.search-header[_ngcontent-%COMP%]{flex-direction:column}.copao-button[_ngcontent-%COMP%]{width:100%;min-width:unset}}.search-card[_ngcontent-%COMP%]{flex:0 0 auto}.full-width[_ngcontent-%COMP%]{width:100%}.product-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.product-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1}.product-option[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.product-option[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{color:#0009;font-size:12px}.product-option[_ngcontent-%COMP%]   .stock.out-of-stock[_ngcontent-%COMP%]{color:#c62828;font-weight:600}.selected-product[_ngcontent-%COMP%]{margin-top:16px;padding:16px;border:1px solid rgba(0,0,0,.12);border-radius:4px}.product-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.product-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500}.product-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#1976d2}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.quantity[_ngcontent-%COMP%]{font-size:18px;font-weight:500;min-width:40px;text-align:center}.add-button[_ngcontent-%COMP%]{width:100%}.stock-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:8px 0 12px;padding:8px 10px;background-color:#ffebee;border-left:4px solid #f44336;border-radius:4px;color:#c62828;font-weight:500}.cart-card[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column}.cart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.item-count[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-left:8px}.cart-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.cart-item[_ngcontent-%COMP%]{padding:12px;border:1px solid rgba(0,0,0,.12);border-radius:4px}.item-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.item-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.item-controls[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{margin-left:auto;font-weight:500;color:#1976d2}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:#00000061}.empty-cart[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px}.checkout-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.customer-info[_ngcontent-%COMP%]{margin-bottom:24px}.total-section[_ngcontent-%COMP%]{text-align:center;margin:24px 0;padding:16px;background:#f5f5f5;border-radius:4px}.delivery-payment-section[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#fff3cd;border-radius:4px;border:1px solid #ffc107}.delivery-checkbox[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.delivery-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:8px 0 0;font-size:.875rem;color:#856404}.delivery-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.address-selection-section[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#f8f9fa;border-radius:4px;border:1px solid #dee2e6}.address-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.address-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#333}.address-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background:#fff3cd;border-radius:4px;color:#856404;font-size:.875rem}.address-warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.address-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.address-full[_ngcontent-%COMP%]{flex:1;color:#333;font-size:.875rem}.address-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.address-details[_ngcontent-%COMP%]{flex:1;color:#666;font-size:.875rem}.default-badge[_ngcontent-%COMP%]{color:#ffc107;font-size:18px;width:18px;height:18px}  .mat-mdc-select-panel .mat-mdc-option{color:#333!important}  .mat-mdc-select-panel .mat-mdc-option.mdc-list-item--selected .mdc-list-item__primary-text,   .mat-mdc-select-panel .mat-mdc-option.mdc-list-item--selected .address-full,   .mat-mdc-select-panel .mat-mdc-option.mdc-list-item--selected .address-option{color:#000!important;font-weight:500!important}  .mat-mdc-select-panel .mat-mdc-option.mdc-list-item--selected{background-color:#fff9c4!important}  .mat-mdc-select-panel .mat-mdc-option.mdc-list-item:hover:not(.mdc-list-item--disabled){background-color:#f5f5f5!important}  .mat-mdc-select-panel .mat-mdc-option.mdc-list-item:hover:not(.mdc-list-item--disabled) .address-full,   .mat-mdc-select-panel .mat-mdc-option.mdc-list-item:hover:not(.mdc-list-item--disabled) .address-option{color:#000!important}  .mat-mdc-select-panel .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal:after{color:#000!important}  .mat-mdc-select-panel .mat-mdc-option.mdc-list-item--selected .mat-pseudo-checkbox-checked{color:#000!important}.delivery-fee-display[_ngcontent-%COMP%]{margin-top:12px;padding:12px;background:#e8f5e9;border-radius:4px;border-left:4px solid #4caf50}.fee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.fee-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;width:24px;height:24px}.fee-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.fee-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666}.fee-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#2e7d32}.delivery-time[_ngcontent-%COMP%]{font-size:.75rem;color:#666;display:flex;align-items:center;gap:4px}.loading-fee[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:12px;color:#666;font-size:.875rem}.loading-fee[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.total-label[_ngcontent-%COMP%]{font-size:16px;color:#0009;margin-bottom:8px}.total-value[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#1976d2}.change-section[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background-color:#f5f5f5;border-radius:8px;border:2px solid #e0e0e0}.change-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:16px 0;padding:12px;background-color:#e8f5e8;border-radius:6px;border-left:4px solid #4caf50}.change-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#2e7d32}.change-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1b5e20}.insufficient-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:12px 0;padding:12px;background-color:#ffebee;border-radius:6px;border-left:4px solid #f44336;color:#c62828;font-weight:500}.cash-payment-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px}.cash-payment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:44px}.payment-methods[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:24px}.payment-button[_ngcontent-%COMP%]{height:48px;transition:all .2s ease}.payment-button.selected[_ngcontent-%COMP%]{background-color:#1976d2!important;color:#fff!important;box-shadow:0 4px 8px #1976d266;transform:scale(1.05)}.payment-button.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}.finalize-section[_ngcontent-%COMP%]{margin-top:16px}.finalize-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:16px}.clear-button[_ngcontent-%COMP%]{width:100%}.closed-cash[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 200px);padding:40px}.closed-cash-content[_ngcontent-%COMP%]{text-align:center;max-width:500px;background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000001a;padding:48px 32px}.cash-icon[_ngcontent-%COMP%]{margin-bottom:24px}.cash-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#1976d2}.closed-cash-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 16px;font-size:28px;font-weight:500;color:#000000de}.closed-cash-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0009;margin-bottom:32px;font-size:16px;line-height:1.5}.cash-info[_ngcontent-%COMP%]{margin:32px 0;text-align:left}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:12px 0;padding:12px;background-color:#f5f5f5;border-radius:8px}.info-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#1976d2}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#000000b3}.open-cash-button[_ngcontent-%COMP%]{margin-top:24px;padding:12px 32px;font-size:16px;font-weight:500}.open-cash-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 1199px){.caixa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;height:auto}.right-column[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:1}.checkout-card[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 599px){.payment-methods[_ngcontent-%COMP%]{grid-template-columns:1fr}.item-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.item-controls[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{text-align:right}}.customer-search-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.customer-search-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.customer-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.customer-search[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.customer-results[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;margin-top:8px;border:1px solid #dee2e6;border-radius:6px;background:#fff}.customer-result[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px;cursor:pointer;border-bottom:1px solid #f1f3f4;transition:background-color .2s ease}.customer-result[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.customer-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.customer-result[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.customer-result[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.9rem}.customer-result[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .customer-result[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.customer-result[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#28a745;font-size:1.2rem;width:1.2rem;height:1.2rem}.create-customer-option[_ngcontent-%COMP%]{margin-top:8px;padding-top:8px;border-top:1px dashed #dee2e6}.customer-result.create-new[_ngcontent-%COMP%]{background-color:#e3f2fd;border:1px solid #2196f3}.customer-result.create-new[_ngcontent-%COMP%]:hover{background-color:#bbdefb}.customer-result.create-new[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.customer-result.create-new[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2196f3}.selected-customer[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px;background:#e8f5e8;border:1px solid #c3e6c3;border-radius:8px}.customer-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.customer-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#28a745;font-size:1.5rem;width:1.5rem;height:1.5rem}.customer-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.customer-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.9rem}.customer-data[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .customer-data[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.manual-customer-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.product-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:8px}.product-details[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{font-size:12px;color:#0009}.product-details[_ngcontent-%COMP%]   .doses-info[_ngcontent-%COMP%]{font-size:11px;color:#00000080;font-style:italic}.sale-type-selection[_ngcontent-%COMP%]{margin:12px 0}.dose-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px;background-color:#e3f2fd;border-radius:4px;font-size:12px;color:#1976d2}.dose-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.sale-type[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;margin-left:8px}.sale-type.dose[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.sale-type.garrafa[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.price-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:8px}.price-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:600;color:#2e7d32;font-size:16px}.price-info[_ngcontent-%COMP%]   .dose-price[_ngcontent-%COMP%]{font-weight:500;color:#1976d2;font-size:14px}.dose-unavailable-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px;background-color:#fff3e0;border-radius:4px;font-size:12px;color:#f57c00}.dose-unavailable-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}"]})};export{Gi as CaixaComponent};
