import{a as Zt,b as en}from"./chunk-ENJYTH26.js";import{a as we,b as Pe,c as tn,e as Se,f as Ie,g as Oe,h as ie}from"./chunk-ESHAXR7Y.js";import{a as Gt,d as Me}from"./chunk-Z5I7IYIZ.js";import{a as Wt,b as Xt}from"./chunk-JA72YPWQ.js";import{a as Qt,h as $t,i as Kt,m as Jt,n as Yt}from"./chunk-A7QNIJLU.js";import"./chunk-J3TQETGC.js";import{a as Ut,b as zt,c as Vt,f as Ht,g as jt}from"./chunk-RQVK44YC.js";import{b as be,c as Ee}from"./chunk-CDWAOTFZ.js";import"./chunk-OELRWU3S.js";import"./chunk-HCRJH4BX.js";import{a as te,b as ne}from"./chunk-OZHJ4RLB.js";import{Y as Z,_ as ee}from"./chunk-E25F7JMY.js";import"./chunk-O2P35CN4.js";import{d as Nt,h as qt}from"./chunk-UI7OC72Q.js";import{$a as P,Bb as c,Cb as l,Da as Pt,Db as w,Gc as At,Hb as R,Hc as ve,Ic as X,Kb as D,Lb as C,Oc as kt,Qb as It,Rb as Ot,Rc as z,Sb as Dt,Vb as Tt,Wa as p,Wb as d,Xb as U,Yb as x,Zb as W,_a as St,bd as Rt,cd as Ft,d as _,e as ci,f as Ye,fc as ye,gb as B,gc as ce,hc as Ge,jc as We,lb as b,mc as Bt,qc as Lt,sa as wt,sb as u,ta as I,ua as O,ub as L,vb as xe}from"./chunk-G6OUGGHL.js";var ln=_((Jr,sn)=>{"use strict";sn.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var V=_($=>{"use strict";var et,Si=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};$.getSymbolTotalCodewords=function(e){return Si[e]};$.getBCHDigit=function(i){let e=0;for(;i!==0;)e++,i>>>=1;return e};$.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');et=e};$.isKanjiModeEnabled=function(){return typeof et<"u"};$.toSJIS=function(e){return et(e)}});var Le=_(S=>{"use strict";S.L={bit:1};S.M={bit:0};S.Q={bit:3};S.H={bit:2};function Ii(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return S.L;case"m":case"medium":return S.M;case"q":case"quartile":return S.Q;case"h":case"high":return S.H;default:throw new Error("Unknown EC Level: "+i)}}S.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};S.from=function(e,t){if(S.isValid(e))return e;try{return Ii(e)}catch{return t}}});var mn=_((Wr,cn)=>{"use strict";function dn(){this.buffer=[],this.length=0}dn.prototype={get:function(i){let e=Math.floor(i/8);return(this.buffer[e]>>>7-i%8&1)===1},put:function(i,e){for(let t=0;t<e;t++)this.putBit((i>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),i&&(this.buffer[e]|=128>>>this.length%8),this.length++}};cn.exports=dn});var un=_((Xr,pn)=>{"use strict";function me(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}me.prototype.set=function(i,e,t,n){let r=i*this.size+e;this.data[r]=t,n&&(this.reservedBit[r]=!0)};me.prototype.get=function(i,e){return this.data[i*this.size+e]};me.prototype.xor=function(i,e,t){this.data[i*this.size+e]^=t};me.prototype.isReserved=function(i,e){return this.reservedBit[i*this.size+e]};pn.exports=me});var gn=_(Ae=>{"use strict";var Oi=V().getSymbolSize;Ae.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=Oi(e),r=n===145?26:Math.ceil((n-13)/(2*t-2))*2,o=[n-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()};Ae.getPositions=function(e){let t=[],n=Ae.getRowColCoords(e),r=n.length;for(let o=0;o<r;o++)for(let a=0;a<r;a++)o===0&&a===0||o===0&&a===r-1||o===r-1&&a===0||t.push([n[o],n[a]]);return t}});var Cn=_(hn=>{"use strict";var Di=V().getSymbolSize,fn=7;hn.getPositions=function(e){let t=Di(e);return[[0,0],[t-fn,0],[0,t-fn]]}});var _n=_(y=>{"use strict";y.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var K={N1:3,N2:3,N3:40,N4:10};y.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};y.from=function(e){return y.isValid(e)?parseInt(e,10):void 0};y.getPenaltyN1=function(e){let t=e.size,n=0,r=0,o=0,a=null,s=null;for(let m=0;m<t;m++){r=o=0,a=s=null;for(let g=0;g<t;g++){let f=e.get(m,g);f===a?r++:(r>=5&&(n+=K.N1+(r-5)),a=f,r=1),f=e.get(g,m),f===s?o++:(o>=5&&(n+=K.N1+(o-5)),s=f,o=1)}r>=5&&(n+=K.N1+(r-5)),o>=5&&(n+=K.N1+(o-5))}return n};y.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(a===4||a===0)&&n++}return n*K.N2};y.getPenaltyN3=function(e){let t=e.size,n=0,r=0,o=0;for(let a=0;a<t;a++){r=o=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(r===1488||r===93)&&n++,o=o<<1&2047|e.get(s,a),s>=10&&(o===1488||o===93)&&n++}return n*K.N3};y.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/n/5)-10)*K.N4};function Ti(i,e,t){switch(i){case y.Patterns.PATTERN000:return(e+t)%2===0;case y.Patterns.PATTERN001:return e%2===0;case y.Patterns.PATTERN010:return t%3===0;case y.Patterns.PATTERN011:return(e+t)%3===0;case y.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case y.Patterns.PATTERN101:return e*t%2+e*t%3===0;case y.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case y.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}y.applyMask=function(e,t){let n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,Ti(e,o,r))};y.getBestMask=function(e,t){let n=Object.keys(y.Patterns).length,r=0,o=1/0;for(let a=0;a<n;a++){t(a),y.applyMask(a,e);let s=y.getPenaltyN1(e)+y.getPenaltyN2(e)+y.getPenaltyN3(e)+y.getPenaltyN4(e);y.applyMask(a,e),s<o&&(o=s,r=a)}return r}});var nt=_(tt=>{"use strict";var H=Le(),ke=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Re=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];tt.getBlocksCount=function(e,t){switch(t){case H.L:return ke[(e-1)*4+0];case H.M:return ke[(e-1)*4+1];case H.Q:return ke[(e-1)*4+2];case H.H:return ke[(e-1)*4+3];default:return}};tt.getTotalCodewordsCount=function(e,t){switch(t){case H.L:return Re[(e-1)*4+0];case H.M:return Re[(e-1)*4+1];case H.Q:return Re[(e-1)*4+2];case H.H:return Re[(e-1)*4+3];default:return}}});var xn=_(qe=>{"use strict";var pe=new Uint8Array(512),Ne=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)pe[t]=e,Ne[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)pe[t]=pe[t-255]})();qe.log=function(e){if(e<1)throw new Error("log("+e+")");return Ne[e]};qe.exp=function(e){return pe[e]};qe.mul=function(e,t){return e===0||t===0?0:pe[Ne[e]+Ne[t]]}});var yn=_(ue=>{"use strict";var it=xn();ue.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n[r+o]^=it.mul(e[r],t[o]);return n};ue.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let r=n[0];for(let a=0;a<t.length;a++)n[a]^=it.mul(t[a],r);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};ue.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=ue.mul(t,new Uint8Array([1,it.exp(n)]));return t}});var En=_((oo,bn)=>{"use strict";var vn=yn();function rt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}rt.prototype.initialize=function(e){this.degree=e,this.genPoly=vn.generateECPolynomial(this.degree)};rt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=vn.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(n,r),o}return n};bn.exports=rt});var ot=_(Mn=>{"use strict";Mn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var at=_(N=>{"use strict";var wn="[0-9]+",Bi="[A-Z $%*+\\-./:]+",ge="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ge=ge.replace(/u/g,"\\u");var Li="(?:(?![A-Z0-9 $%*+\\-./:]|"+ge+`)(?:.|[\r
]))+`;N.KANJI=new RegExp(ge,"g");N.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");N.BYTE=new RegExp(Li,"g");N.NUMERIC=new RegExp(wn,"g");N.ALPHANUMERIC=new RegExp(Bi,"g");var Ai=new RegExp("^"+ge+"$"),ki=new RegExp("^"+wn+"$"),Ri=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");N.testKanji=function(e){return Ai.test(e)};N.testNumeric=function(e){return ki.test(e)};N.testAlphanumeric=function(e){return Ri.test(e)}});var j=_(E=>{"use strict";var Ni=ot(),st=at();E.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};E.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};E.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};E.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};E.MIXED={bit:-1};E.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Ni.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};E.getBestModeForData=function(e){return st.testNumeric(e)?E.NUMERIC:st.testAlphanumeric(e)?E.ALPHANUMERIC:st.testKanji(e)?E.KANJI:E.BYTE};E.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};E.isValid=function(e){return e&&e.bit&&e.ccBits};function qi(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return E.NUMERIC;case"alphanumeric":return E.ALPHANUMERIC;case"kanji":return E.KANJI;case"byte":return E.BYTE;default:throw new Error("Unknown mode: "+i)}}E.from=function(e,t){if(E.isValid(e))return e;try{return qi(e)}catch{return t}}});var Dn=_(J=>{"use strict";var Fe=V(),Fi=nt(),Pn=Le(),Q=j(),lt=ot(),In=7973,Sn=Fe.getBCHDigit(In);function Ui(i,e,t){for(let n=1;n<=40;n++)if(e<=J.getCapacity(n,t,i))return n}function On(i,e){return Q.getCharCountIndicator(i,e)+4}function zi(i,e){let t=0;return i.forEach(function(n){let r=On(n.mode,e);t+=r+n.getBitsLength()}),t}function Vi(i,e){for(let t=1;t<=40;t++)if(zi(i,t)<=J.getCapacity(t,e,Q.MIXED))return t}J.from=function(e,t){return lt.isValid(e)?parseInt(e,10):t};J.getCapacity=function(e,t,n){if(!lt.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Q.BYTE);let r=Fe.getSymbolTotalCodewords(e),o=Fi.getTotalCodewordsCount(e,t),a=(r-o)*8;if(n===Q.MIXED)return a;let s=a-On(n,e);switch(n){case Q.NUMERIC:return Math.floor(s/10*3);case Q.ALPHANUMERIC:return Math.floor(s/11*2);case Q.KANJI:return Math.floor(s/13);case Q.BYTE:default:return Math.floor(s/8)}};J.getBestVersionForData=function(e,t){let n,r=Pn.from(t,Pn.M);if(Array.isArray(e)){if(e.length>1)return Vi(e,r);if(e.length===0)return 1;n=e[0]}else n=e;return Ui(n.mode,n.getLength(),r)};J.getEncodedBits=function(e){if(!lt.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Fe.getBCHDigit(t)-Sn>=0;)t^=In<<Fe.getBCHDigit(t)-Sn;return e<<12|t}});var An=_(Ln=>{"use strict";var dt=V(),Bn=1335,Hi=21522,Tn=dt.getBCHDigit(Bn);Ln.getEncodedBits=function(e,t){let n=e.bit<<3|t,r=n<<10;for(;dt.getBCHDigit(r)-Tn>=0;)r^=Bn<<dt.getBCHDigit(r)-Tn;return(n<<10|r)^Hi}});var Rn=_((po,kn)=>{"use strict";var ji=j();function re(i){this.mode=ji.NUMERIC,this.data=i.toString()}re.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};re.prototype.getLength=function(){return this.data.length};re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)};re.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);let o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,o*3+1))};kn.exports=re});var qn=_((uo,Nn)=>{"use strict";var Qi=j(),ct=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function oe(i){this.mode=Qi.ALPHANUMERIC,this.data=i}oe.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};oe.prototype.getLength=function(){return this.data.length};oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)};oe.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=ct.indexOf(this.data[t])*45;n+=ct.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(ct.indexOf(this.data[t]),6)};Nn.exports=oe});var Un=_((go,Fn)=>{"use strict";var $i=j();function ae(i){this.mode=$i.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}ae.getBitsLength=function(e){return e*8};ae.prototype.getLength=function(){return this.data.length};ae.prototype.getBitsLength=function(){return ae.getBitsLength(this.data.length)};ae.prototype.write=function(i){for(let e=0,t=this.data.length;e<t;e++)i.put(this.data[e],8)};Fn.exports=ae});var Vn=_((fo,zn)=>{"use strict";var Ki=j(),Ji=V();function se(i){this.mode=Ki.KANJI,this.data=i}se.getBitsLength=function(e){return e*13};se.prototype.getLength=function(){return this.data.length};se.prototype.getBitsLength=function(){return se.getBitsLength(this.data.length)};se.prototype.write=function(i){let e;for(e=0;e<this.data.length;e++){let t=Ji.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),i.put(t,13)}};zn.exports=se});var Hn=_((ho,mt)=>{"use strict";var fe={single_source_shortest_paths:function(i,e,t){var n={},r={};r[e]=0;var o=fe.PriorityQueue.make();o.push(e,0);for(var a,s,m,g,f,M,v,T,q;!o.empty();){a=o.pop(),s=a.value,g=a.cost,f=i[s]||{};for(m in f)f.hasOwnProperty(m)&&(M=f[m],v=g+M,T=r[m],q=typeof r[m]>"u",(q||T>v)&&(r[m]=v,o.push(m,v),n[m]=s))}if(typeof t<"u"&&typeof r[t]>"u"){var F=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(F)}return n},extract_shortest_path_from_predecessor_list:function(i,e){for(var t=[],n=e,r;n;)t.push(n),r=i[n],n=i[n];return t.reverse(),t},find_path:function(i,e,t){var n=fe.single_source_shortest_paths(i,e,t);return fe.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(i){var e=fe.PriorityQueue,t={},n;i=i||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=i.sorter||e.default_sorter,t},default_sorter:function(i,e){return i.cost-e.cost},push:function(i,e){var t={value:i,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof mt<"u"&&(mt.exports=fe)});var Wn=_(le=>{"use strict";var h=j(),$n=Rn(),Kn=qn(),Jn=Un(),Yn=Vn(),he=at(),Ue=V(),Yi=Hn();function jn(i){return unescape(encodeURIComponent(i)).length}function Ce(i,e,t){let n=[],r;for(;(r=i.exec(t))!==null;)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function Gn(i){let e=Ce(he.NUMERIC,h.NUMERIC,i),t=Ce(he.ALPHANUMERIC,h.ALPHANUMERIC,i),n,r;return Ue.isKanjiModeEnabled()?(n=Ce(he.BYTE,h.BYTE,i),r=Ce(he.KANJI,h.KANJI,i)):(n=Ce(he.BYTE_KANJI,h.BYTE,i),r=[]),e.concat(t,n,r).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function pt(i,e){switch(e){case h.NUMERIC:return $n.getBitsLength(i);case h.ALPHANUMERIC:return Kn.getBitsLength(i);case h.KANJI:return Yn.getBitsLength(i);case h.BYTE:return Jn.getBitsLength(i)}}function Gi(i){return i.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function Wi(i){let e=[];for(let t=0;t<i.length;t++){let n=i[t];switch(n.mode){case h.NUMERIC:e.push([n,{data:n.data,mode:h.ALPHANUMERIC,length:n.length},{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.ALPHANUMERIC:e.push([n,{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.KANJI:e.push([n,{data:n.data,mode:h.BYTE,length:jn(n.data)}]);break;case h.BYTE:e.push([{data:n.data,mode:h.BYTE,length:jn(n.data)}])}}return e}function Xi(i,e){let t={},n={start:{}},r=["start"];for(let o=0;o<i.length;o++){let a=i[o],s=[];for(let m=0;m<a.length;m++){let g=a[m],f=""+o+m;s.push(f),t[f]={node:g,lastCount:0},n[f]={};for(let M=0;M<r.length;M++){let v=r[M];t[v]&&t[v].node.mode===g.mode?(n[v][f]=pt(t[v].lastCount+g.length,g.mode)-pt(t[v].lastCount,g.mode),t[v].lastCount+=g.length):(t[v]&&(t[v].lastCount=g.length),n[v][f]=pt(g.length,g.mode)+4+h.getCharCountIndicator(g.mode,e))}}r=s}for(let o=0;o<r.length;o++)n[r[o]].end=0;return{map:n,table:t}}function Qn(i,e){let t,n=h.getBestModeForData(i);if(t=h.from(e,n),t!==h.BYTE&&t.bit<n.bit)throw new Error('"'+i+'" cannot be encoded with mode '+h.toString(t)+`.
 Suggested mode is: `+h.toString(n));switch(t===h.KANJI&&!Ue.isKanjiModeEnabled()&&(t=h.BYTE),t){case h.NUMERIC:return new $n(i);case h.ALPHANUMERIC:return new Kn(i);case h.KANJI:return new Yn(i);case h.BYTE:return new Jn(i)}}le.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(Qn(n,null)):n.data&&t.push(Qn(n.data,n.mode)),t},[])};le.fromString=function(e,t){let n=Gn(e,Ue.isKanjiModeEnabled()),r=Wi(n),o=Xi(r,t),a=Yi.find_path(o.map,"start","end"),s=[];for(let m=1;m<a.length-1;m++)s.push(o.table[a[m]].node);return le.fromArray(Gi(s))};le.rawSplit=function(e){return le.fromArray(Gn(e,Ue.isKanjiModeEnabled()))}});var Zn=_(Xn=>{"use strict";var Ve=V(),ut=Le(),Zi=mn(),er=un(),tr=gn(),nr=Cn(),ht=_n(),Ct=nt(),ir=En(),ze=Dn(),rr=An(),or=j(),gt=Wn();function ar(i,e){let t=i.size,n=nr.getPositions(e);for(let r=0;r<n.length;r++){let o=n[r][0],a=n[r][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let m=-1;m<=7;m++)a+m<=-1||t<=a+m||(s>=0&&s<=6&&(m===0||m===6)||m>=0&&m<=6&&(s===0||s===6)||s>=2&&s<=4&&m>=2&&m<=4?i.set(o+s,a+m,!0,!0):i.set(o+s,a+m,!1,!0))}}function sr(i){let e=i.size;for(let t=8;t<e-8;t++){let n=t%2===0;i.set(t,6,n,!0),i.set(6,t,n,!0)}}function lr(i,e){let t=tr.getPositions(e);for(let n=0;n<t.length;n++){let r=t[n][0],o=t[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?i.set(r+a,o+s,!0,!0):i.set(r+a,o+s,!1,!0)}}function dr(i,e){let t=i.size,n=ze.getEncodedBits(e),r,o,a;for(let s=0;s<18;s++)r=Math.floor(s/3),o=s%3+t-8-3,a=(n>>s&1)===1,i.set(r,o,a,!0),i.set(o,r,a,!0)}function ft(i,e,t){let n=i.size,r=rr.getEncodedBits(e,t),o,a;for(o=0;o<15;o++)a=(r>>o&1)===1,o<6?i.set(o,8,a,!0):o<8?i.set(o+1,8,a,!0):i.set(n-15+o,8,a,!0),o<8?i.set(8,n-o-1,a,!0):o<9?i.set(8,15-o-1+1,a,!0):i.set(8,15-o-1,a,!0);i.set(n-8,8,1,!0)}function cr(i,e){let t=i.size,n=-1,r=t-1,o=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let m=0;m<2;m++)if(!i.isReserved(r,s-m)){let g=!1;a<e.length&&(g=(e[a]>>>o&1)===1),i.set(r,s-m,g),o--,o===-1&&(a++,o=7)}if(r+=n,r<0||t<=r){r-=n,n=-n;break}}}function mr(i,e,t){let n=new Zi;t.forEach(function(m){n.put(m.mode.bit,4),n.put(m.getLength(),or.getCharCountIndicator(m.mode,i)),m.write(n)});let r=Ve.getSymbolTotalCodewords(i),o=Ct.getTotalCodewordsCount(i,e),a=(r-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let m=0;m<s;m++)n.put(m%2?17:236,8);return pr(n,i,e)}function pr(i,e,t){let n=Ve.getSymbolTotalCodewords(e),r=Ct.getTotalCodewordsCount(e,t),o=n-r,a=Ct.getBlocksCount(e,t),s=n%a,m=a-s,g=Math.floor(n/a),f=Math.floor(o/a),M=f+1,v=g-f,T=new ir(v),q=0,F=new Array(a),Et=new Array(a),$e=0,di=new Uint8Array(i.buffer);for(let G=0;G<a;G++){let Je=G<m?f:M;F[G]=di.slice(q,q+Je),Et[G]=T.encode(F[G]),q+=Je,$e=Math.max($e,Je)}let Ke=new Uint8Array(n),Mt=0,A,k;for(A=0;A<$e;A++)for(k=0;k<a;k++)A<F[k].length&&(Ke[Mt++]=F[k][A]);for(A=0;A<v;A++)for(k=0;k<a;k++)Ke[Mt++]=Et[k][A];return Ke}function ur(i,e,t,n){let r;if(Array.isArray(i))r=gt.fromArray(i);else if(typeof i=="string"){let g=e;if(!g){let f=gt.rawSplit(i);g=ze.getBestVersionForData(f,t)}r=gt.fromString(i,g||40)}else throw new Error("Invalid data");let o=ze.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=mr(e,t,r),s=Ve.getSymbolSize(e),m=new er(s);return ar(m,e),sr(m),lr(m,e),ft(m,t,0),e>=7&&dr(m,e),cr(m,a),isNaN(n)&&(n=ht.getBestMask(m,ft.bind(null,m,t))),ht.applyMask(n,m),ft(m,t,n),{modules:m,version:e,errorCorrectionLevel:t,maskPattern:n,segments:r}}Xn.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ut.M,r,o;return typeof t<"u"&&(n=ut.from(t.errorCorrectionLevel,ut.M),r=ze.from(t.version),o=ht.from(t.maskPattern),t.toSJISFunc&&Ve.setToSJISFunction(t.toSJISFunc)),ur(e,r,n,o)}});var _t=_(Y=>{"use strict";function ei(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+i);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Y.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:ei(e.color.dark||"#000000ff"),light:ei(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Y.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Y.getImageWidth=function(e,t){let n=Y.getScale(e,t);return Math.floor((e+t.margin*2)*n)};Y.qrToImageData=function(e,t,n){let r=t.modules.size,o=t.modules.data,a=Y.getScale(r,n),s=Math.floor((r+n.margin*2)*a),m=n.margin*a,g=[n.color.light,n.color.dark];for(let f=0;f<s;f++)for(let M=0;M<s;M++){let v=(f*s+M)*4,T=n.color.light;if(f>=m&&M>=m&&f<s-m&&M<s-m){let q=Math.floor((f-m)/a),F=Math.floor((M-m)/a);T=g[o[q*r+F]?1:0]}e[v++]=T.r,e[v++]=T.g,e[v++]=T.b,e[v]=T.a}}});var ti=_(He=>{"use strict";var xt=_t();function gr(i,e,t){i.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function fr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}He.render=function(e,t,n){let r=n,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=fr()),r=xt.getOptions(r);let a=xt.getImageWidth(e.modules.size,r),s=o.getContext("2d"),m=s.createImageData(a,a);return xt.qrToImageData(m.data,e,r),gr(s,o,a),s.putImageData(m,0,0),o};He.renderToDataURL=function(e,t,n){let r=n;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=He.render(e,t,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}});var ri=_(ii=>{"use strict";var hr=_t();function ni(i,e){let t=i.a/255,n=e+'="'+i.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function yt(i,e,t){let n=i+e;return typeof t<"u"&&(n+=" "+t),n}function Cr(i,e,t){let n="",r=0,o=!1,a=0;for(let s=0;s<i.length;s++){let m=Math.floor(s%e),g=Math.floor(s/e);!m&&!o&&(o=!0),i[s]?(a++,s>0&&m>0&&i[s-1]||(n+=o?yt("M",m+t,.5+g+t):yt("m",r,0),r=0,o=!1),m+1<e&&i[s+1]||(n+=yt("h",a),a=0)):r++}return n}ii.render=function(e,t,n){let r=hr.getOptions(t),o=e.modules.size,a=e.modules.data,s=o+r.margin*2,m=r.color.light.a?"<path "+ni(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",g="<path "+ni(r.color.dark,"stroke")+' d="'+Cr(a,o,r.margin)+'"/>',f='viewBox="0 0 '+s+" "+s+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+f+' shape-rendering="crispEdges">'+m+g+`</svg>
`;return typeof n=="function"&&n(null,v),v}});var ai=_(_e=>{"use strict";var _r=ln(),vt=Zn(),oi=ti(),xr=ri();function bt(i,e,t,n,r){let o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!_r())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(m,g){try{let f=vt.create(t,n);m(i(f,e,n))}catch(f){g(f)}})}try{let m=vt.create(t,n);r(null,i(m,e,n))}catch(m){r(m)}}_e.create=vt.create;_e.toCanvas=bt.bind(null,oi.render);_e.toDataURL=bt.bind(null,oi.renderToDataURL);_e.toString=bt.bind(null,function(i,e,t){return xr.render(i,t)})});var De=(i,e)=>({completed:i,active:e}),Xe=i=>({completed:i});function mi(i,e){i&1&&(c(0,"mat-icon"),d(1,"check"),l())}function pi(i,e){i&1&&(c(0,"span",19),d(1,"1"),l())}function ui(i,e){i&1&&(c(0,"mat-icon"),d(1,"check"),l())}function gi(i,e){i&1&&(c(0,"span",19),d(1,"2"),l())}function fi(i,e){i&1&&(c(0,"mat-icon"),d(1,"check"),l())}function hi(i,e){i&1&&(c(0,"span",19),d(1,"3"),l())}function Ci(i,e){i&1&&(c(0,"mat-icon"),d(1,"check"),l())}function _i(i,e){i&1&&(c(0,"span",19),d(1,"4"),l())}function xi(i,e){if(i&1&&(c(0,"div",20)(1,"div",21)(2,"span",22),d(3),l(),c(4,"span",23),d(5),l(),c(6,"span",24),d(7),l()(),c(8,"div",25)(9,"span"),d(10),l()()()),i&2){let t=e.$implicit,n=C();p(3),x("",t.quantity,"x"),p(2),U(t.product==null?null:t.product.name),p(2),x("",n.data.formatCurrency(n.data.getUnitPrice(t))," cada"),p(3),x("Subtotal: ",n.data.formatCurrency(n.data.getItemSubtotal(t)),"")}}function yi(i,e){if(i&1&&(c(0,"p")(1,"strong"),d(2,"Complemento:"),l(),d(3),l()),i&2){let t=C(2);p(3),x(" ",t.data.order.delivery_address.complement,"")}}function vi(i,e){if(i&1&&(c(0,"p")(1,"strong"),d(2,"Nome do Endere\xE7o:"),l(),d(3),l()),i&2){let t=C(2);p(3),x(" ",t.data.order.delivery_address.name,"")}}function bi(i,e){if(i&1&&(c(0,"p")(1,"strong"),d(2,"Observa\xE7\xF5es do Endere\xE7o:"),l(),d(3),l()),i&2){let t=C(2);p(3),x(" ",t.data.order.delivery_address.notes,"")}}function Ei(i,e){if(i&1&&(c(0,"p")(1,"strong"),d(2,"Observa\xE7\xF5es do Pedido:"),l(),d(3),l()),i&2){let t=C(2);p(3),x(" ",t.data.order.delivery_notes,"")}}function Mi(i,e){if(i&1&&(c(0,"div",26)(1,"p")(2,"strong"),d(3,"Endere\xE7o:"),l(),d(4),l(),b(5,yi,4,1,"p",7),c(6,"p")(7,"strong"),d(8,"Bairro:"),l(),d(9),l(),c(10,"p")(11,"strong"),d(12,"Cidade:"),l(),d(13),l(),c(14,"p")(15,"strong"),d(16,"CEP:"),l(),d(17),l(),b(18,vi,4,1,"p",7)(19,bi,4,1,"p",7)(20,Ei,4,1,"p",7),l()),i&2){let t=C();p(4),W(" ",t.data.order.delivery_address.street,", ",t.data.order.delivery_address.number,""),p(),u("ngIf",t.data.order.delivery_address.complement),p(4),x(" ",t.data.order.delivery_address.neighborhood,""),p(4),W(" ",t.data.order.delivery_address.city,"/",t.data.order.delivery_address.state,""),p(4),x(" ",t.data.order.delivery_address.zipcode,""),p(),u("ngIf",t.data.order.delivery_address.name),p(),u("ngIf",t.data.order.delivery_address.notes),p(),u("ngIf",t.data.order.delivery_notes)}}function wi(i,e){i&1&&(c(0,"div",27)(1,"p"),d(2,"Nenhum endere\xE7o de entrega informado"),l()())}function Pi(i,e){if(i&1){let t=R();c(0,"button",28),D("click",function(){I(t);let r=C();return O(r.confirmarEntrega())}),c(1,"mat-icon"),d(2,"check_circle"),l(),d(3),l()}if(i&2){let t=C();u("disabled",t.confirming),p(3),x(" ",t.confirming?"Confirmando...":"Confirmar Recebimento"," ")}}var Te=class i{constructor(e,t){this.dialogRef=e;this.data=t}confirming=!1;isStepCompleted(e){let t=this.data.order.status;switch(e){case"pending":return t!=="pending";case"preparing":return t==="preparing"||t==="delivering"||t==="completed";case"delivering":return t==="completed";case"completed":return t==="completed";default:return!1}}isStepActive(e){let t=this.data.order.status;switch(e){case"pending":return t==="pending";case"preparing":return t==="processing"||t==="preparing";case"delivering":return t==="delivering";case"completed":return t==="completed";default:return!1}}confirmarEntrega(){confirm("Voc\xEA confirma que recebeu seu pedido?")&&this.data.confirmDelivery&&(this.confirming=!0,this.data.confirmDelivery(this.data.order.id))}static \u0275fac=function(t){return new(t||i)(P(we),P(Pe))};static \u0275cmp=B({type:i,selectors:[["app-order-details-dialog"]],decls:84,vars:44,consts:[["noAddress",""],["mat-dialog-title",""],[1,"order-details-card"],[1,"status-progress-container"],[1,"status-steps"],[1,"status-step",3,"ngClass"],[1,"step-circle"],[4,"ngIf"],["class","step-number",4,"ngIf"],[1,"step-label"],[1,"step-connector",3,"ngClass"],[1,"section"],[1,"items-list"],["class","item-detail",4,"ngFor","ngForOf"],[1,"total"],["class","address-details",4,"ngIf","ngIfElse"],["align","end"],["mat-raised-button","","color","success",3,"disabled","click",4,"ngIf"],["mat-button","",3,"click"],[1,"step-number"],[1,"item-detail"],[1,"item-header"],[1,"quantity"],[1,"name"],[1,"unit-price"],[1,"subtotal"],[1,"address-details"],[1,"no-address"],["mat-raised-button","","color","success",3,"click","disabled"]],template:function(t,n){if(t&1){let r=R();c(0,"h2",1),d(1),l(),c(2,"mat-dialog-content")(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title")(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),b(10,mi,2,0,"mat-icon",7)(11,pi,2,0,"span",8),l(),c(12,"span",9),d(13,"Pendente"),l()(),w(14,"div",10),c(15,"div",5)(16,"div",6),b(17,ui,2,0,"mat-icon",7)(18,gi,2,0,"span",8),l(),c(19,"span",9),d(20,"Em Preparo"),l()(),w(21,"div",10),c(22,"div",5)(23,"div",6),b(24,fi,2,0,"mat-icon",7)(25,hi,2,0,"span",8),l(),c(26,"span",9),d(27,"Em Entrega"),l()(),w(28,"div",10),c(29,"div",5)(30,"div",6),b(31,Ci,2,0,"mat-icon",7)(32,_i,2,0,"span",8),l(),c(33,"span",9),d(34,"Conclu\xEDdo"),l()()()()()(),c(35,"mat-card-content")(36,"div",11)(37,"h3"),d(38,"Informa\xE7\xF5es do Pedido"),l(),c(39,"p")(40,"strong"),d(41,"N\xFAmero:"),l(),d(42),l(),c(43,"p")(44,"strong"),d(45,"Data:"),l(),d(46),l()(),w(47,"mat-divider"),c(48,"div",11)(49,"h3"),d(50,"Itens do Pedido"),l(),c(51,"div",12),b(52,xi,11,4,"div",13),l()(),w(53,"mat-divider"),c(54,"div",11)(55,"h3"),d(56,"Pagamento"),l(),c(57,"p")(58,"strong"),d(59,"M\xE9todo:"),l(),d(60),l(),c(61,"p")(62,"strong"),d(63,"Subtotal:"),l(),d(64),l(),c(65,"p")(66,"strong"),d(67,"Frete:"),l(),d(68),l(),c(69,"p",14)(70,"strong"),d(71,"Total:"),l(),d(72),l()(),w(73,"mat-divider"),c(74,"div",11)(75,"h3"),d(76,"Endere\xE7o de Entrega"),l(),b(77,Mi,21,10,"div",15)(78,wi,3,0,"ng-template",null,0,Bt),l()()()(),c(80,"mat-dialog-actions",16),b(81,Pi,4,2,"button",17),c(82,"button",18),D("click",function(){return I(r),O(n.dialogRef.close())}),d(83,"Fechar"),l()()}if(t&2){let r=Tt(79);p(),x("Acompanhamento do Pedido #",n.data.order.order_number,""),p(7),u("ngClass",ce(26,De,n.isStepCompleted("pending"),n.isStepActive("pending"))),p(2),u("ngIf",n.isStepCompleted("pending")),p(),u("ngIf",!n.isStepCompleted("pending")),p(3),u("ngClass",ye(29,Xe,n.isStepCompleted("preparing"))),p(),u("ngClass",ce(31,De,n.isStepCompleted("preparing"),n.isStepActive("preparing"))),p(2),u("ngIf",n.isStepCompleted("preparing")),p(),u("ngIf",!n.isStepCompleted("preparing")),p(3),u("ngClass",ye(34,Xe,n.isStepCompleted("delivering"))),p(),u("ngClass",ce(36,De,n.isStepCompleted("delivering"),n.isStepActive("delivering"))),p(2),u("ngIf",n.isStepCompleted("delivering")),p(),u("ngIf",!n.isStepCompleted("delivering")),p(3),u("ngClass",ye(39,Xe,n.isStepCompleted("completed"))),p(),u("ngClass",ce(41,De,n.isStepCompleted("completed"),n.isStepActive("completed"))),p(2),u("ngIf",n.isStepCompleted("completed")),p(),u("ngIf",!n.isStepCompleted("completed")),p(10),x(" #",n.data.order.order_number,""),p(4),x(" ",n.data.formatDate(n.data.order.created_at||""),""),p(6),u("ngForOf",n.data.order.items),p(8),x(" ",n.data.getPaymentMethodLabel(n.data.order),""),p(4),x(" ",n.data.formatCurrency((n.data.order.total||0)-(n.data.order.delivery_fee||0))," "),p(4),x(" ",n.data.formatCurrency(n.data.order.delivery_fee||0)," "),p(4),x(" ",n.data.formatCurrency(n.data.order.total||0)," "),p(5),u("ngIf",n.data.order.delivery_address)("ngIfElse",r),p(4),u("ngIf",n.data.order.status==="delivering")}},dependencies:[z,At,ve,X,ie,Se,Oe,Ie,ee,Z,ne,te,Me,Xt,Wt,jt,Ut,Vt,Ht,zt],styles:["[_nghost-%COMP%]{display:block;max-width:600px}.order-details-card[_ngcontent-%COMP%], .section[_ngcontent-%COMP%]{margin:20px 0}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#666;margin-bottom:10px;font-size:1.1rem}.items-list[_ngcontent-%COMP%]{margin:10px 0}.item-detail[_ngcontent-%COMP%]{margin:10px 0;padding:15px;background-color:#f8f9fa;border-radius:8px;border-left:4px solid #007bff}.item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:8px}.quantity[_ngcontent-%COMP%]{font-weight:700;color:#007bff;min-width:30px}.name[_ngcontent-%COMP%]{flex:1;font-weight:500}.unit-price[_ngcontent-%COMP%]{color:#28a745;font-weight:500}.subtotal[_ngcontent-%COMP%]{text-align:right;color:#666;font-weight:500}.total[_ngcontent-%COMP%]{font-size:1.2em;color:#333;margin-top:15px;padding-top:10px;border-top:2px solid #dee2e6}.address-details[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:8px;border-left:4px solid #28a745}.address-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.no-address[_ngcontent-%COMP%]{color:#999;font-style:italic;padding:15px;background-color:#f8f9fa;border-radius:8px;text-align:center}.status-progress-container[_ngcontent-%COMP%]{width:100%;margin:20px 0}.status-steps[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:20px 0}.status-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;position:relative}.step-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#e0e0e0;border:3px solid #e0e0e0;display:flex;align-items:center;justify-content:center;margin-bottom:8px;transition:all .3s ease;position:relative;z-index:2}.step-number[_ngcontent-%COMP%]{font-weight:700;color:#999;font-size:18px}.status-step.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background-color:#2196f3;border-color:#2196f3;box-shadow:0 0 0 4px #2196f333}.status-step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{color:#fff}.status-step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background-color:#4caf50;border-color:#4caf50}.status-step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px;width:24px;height:24px}.step-label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:center;font-weight:500;transition:color .3s ease}.status-step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#2196f3;font-weight:600}.status-step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#4caf50}.step-connector[_ngcontent-%COMP%]{flex:1;height:3px;background-color:#e0e0e0;margin:-35px 10px 0;transition:background-color .3s ease;position:relative;z-index:1}.step-connector.completed[_ngcontent-%COMP%]{background-color:#4caf50}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:20px}mat-dialog-actions[_ngcontent-%COMP%]   button[color=success][_ngcontent-%COMP%]{margin-right:10px}"]})};var de=ci(ai(),1);var yr=["qrcElement"],si=(()=>{class i{constructor(t,n){this.renderer=t,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new Pt,this.context=null}ngOnChanges(){return Ye(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((n,r)=>{(0,de.toDataURL)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}toCanvas(t,n){return new Promise((r,o)=>{(0,de.toCanvas)(t,this.qrdata,n,a=>{a?o(a):r("success")})})}toSVG(t){return new Promise((n,r)=>{(0,de.toString)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}renderElement(t){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return Ye(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,r=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(o,r),n!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=n),r!==this.centerImage.height&&(this.centerImage.height=r),o!==this.centerImage.width&&(this.centerImage.width=o);let s=this.centerImage;s&&(s.onload=()=>{this.context?.drawImage(s,a.width/2-o/2,a.height/2-r/2,o,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(s=>{console.error("[angularx-qrcode] canvas error:",s)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(t).then(s=>{this.renderer.setProperty(a,"innerHTML",s);let m=a.firstChild;this.renderer.setAttribute(m,"height",`${this.width}`),this.renderer.setAttribute(m,"width",`${this.width}`),this.renderElement(m),this.emitQRCodeURL(m)}).catch(s=>{console.error("[angularx-qrcode] svg error:",s)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(t).then(s=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",s),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(s=>{console.error("[angularx-qrcode] img/url error:",s)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}convertBase64ImageUrlToBlob(t){let n=t.split(";base64,"),r=n[0].split(":")[1],o=atob(n[1]),a=new Uint8Array(o.length);for(let s=0;s<o.length;++s)a[s]=o.charCodeAt(s);return new Blob([a],{type:r})}emitQRCodeURL(t){let n=t.constructor.name;if(n===SVGSVGElement.name){let m=t.outerHTML,g=new Blob([m],{type:"image/svg+xml"}),f=URL.createObjectURL(g),M=this.sanitizer.bypassSecurityTrustUrl(f);this.qrCodeURL.emit(M);return}let r="";n===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),n===HTMLImageElement.name&&(r=t.src);let o=this.convertBase64ImageUrlToBlob(r),a=URL.createObjectURL(o),s=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(s)}static{this.\u0275fac=function(n){return new(n||i)(P(St),P(Rt))}}static{this.\u0275cmp=B({type:i,selectors:[["qrcode"]],viewQuery:function(n,r){if(n&1&&It(yr,7),n&2){let o;Ot(o=Dt())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[wt],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,r){n&1&&w(0,"div",null,0),n&2&&xe(r.cssClass)},encapsulation:2,changeDetection:0})}}return i})();function br(i,e){if(i&1&&(c(0,"div",12),w(1,"qrcode",13),l()),i&2){let t=C();p(),u("qrdata",t.data.qrCode)("width",256)("errorCorrectionLevel","M")("colorDark","#000000")("colorLight","#FFFFFF")}}function Er(i,e){if(i&1&&(c(0,"div",14)(1,"mat-icon"),d(2,"schedule"),l(),c(3,"span"),d(4),l()()),i&2){let t=C();p(4),x("Este c\xF3digo expira em: ",t.formatExpiration(t.data.expiresAt),"")}}var je=class i{constructor(e,t,n,r){this.dialogRef=e;this.data=t;this.clipboard=n;this.snackBar=r}copyPixCode(){this.data.qrCode&&(this.clipboard.copy(this.data.qrCode),this.snackBar.open("C\xF3digo PIX copiado!","Fechar",{duration:2e3,horizontalPosition:"center",verticalPosition:"top"}))}formatExpiration(e){return e?new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}static \u0275fac=function(t){return new(t||i)(P(we),P(Pe),P(en),P(be))};static \u0275cmp=B({type:i,selectors:[["app-pix-payment-dialog"]],decls:22,vars:3,consts:[["pixCodeInput",""],["mat-dialog-title",""],[1,"pix-payment-container"],[1,"instruction"],["class","qr-code-container",4,"ngIf"],[1,"pix-code-container"],["appearance","outline",1,"full-width"],["matInput","","readonly","","rows","4",3,"value"],["mat-raised-button","","color","primary",1,"copy-button",3,"click"],["class","expires-info",4,"ngIf"],["align","end"],["mat-button","",3,"click"],[1,"qr-code-container"],[3,"qrdata","width","errorCorrectionLevel","colorDark","colorLight"],[1,"expires-info"]],template:function(t,n){if(t&1){let r=R();c(0,"h2",1),d(1,"Pagamento PIX"),l(),c(2,"mat-dialog-content")(3,"div",2)(4,"p",3),d(5,"Escaneie o QR Code ou copie o c\xF3digo PIX para pagar"),l(),b(6,br,2,5,"div",4),c(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),d(10,"C\xF3digo PIX (Copia e Cola)"),l(),c(11,"textarea",7,0),d(13,"            "),l()(),c(14,"button",8),D("click",function(){return I(r),O(n.copyPixCode())}),c(15,"mat-icon"),d(16,"content_copy"),l(),d(17," Copiar C\xF3digo "),l()(),b(18,Er,5,1,"div",9),l()(),c(19,"mat-dialog-actions",10)(20,"button",11),D("click",function(){return I(r),O(n.dialogRef.close())}),d(21,"Fechar"),l()()}t&2&&(p(6),u("ngIf",n.data.qrCode),p(5),u("value",n.data.qrCode),p(7),u("ngIf",n.data.expiresAt))},dependencies:[z,X,ie,Se,Oe,Ie,ee,Z,ne,te,Yt,Jt,$t,Qt,Kt,Ee,si],styles:["[_nghost-%COMP%]{display:block;max-width:500px}.pix-payment-container[_ngcontent-%COMP%]{padding:20px 0}.instruction[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:24px;font-size:14px}.qr-code-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:24px;padding:20px;background-color:#f5f5f5;border-radius:8px}.pix-code-container[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.copy-button[_ngcontent-%COMP%]{width:100%;margin-top:8px}.expires-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background-color:#fff3cd;border-radius:4px;color:#856404;font-size:14px}.expires-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:20px}"]})};var Qe=class i{currentStatus="pending";static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["app-order-status-tracker"]],inputs:{currentStatus:"currentStatus"},decls:24,vars:22,consts:[[1,"status-tracker-container"],[1,"step-item"],[1,"step-circle"],[1,"step-label"],[1,"step-line"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),d(3,"1"),l(),c(4,"div",3),d(5,"Pendente"),l()(),w(6,"div",4),c(7,"div",1)(8,"div",2),d(9,"2"),l(),c(10,"div",3),d(11,"Em Preparo"),l()(),w(12,"div",4),c(13,"div",1)(14,"div",2),d(15,"3"),l(),c(16,"div",3),d(17,"Em Entrega"),l()(),w(18,"div",4),c(19,"div",1)(20,"div",2),d(21,"4"),l(),c(22,"div",3),d(23,"Conclu\xEDdo"),l()()()),t&2&&(p(),L("completed",n.currentStatus!=="pending"&&n.currentStatus!=="cancelled")("active",n.currentStatus==="pending"),p(5),L("completed",n.currentStatus==="processing"||n.currentStatus==="preparing"||n.currentStatus==="delivering"||n.currentStatus==="completed"),p(),L("completed",n.currentStatus==="delivering"||n.currentStatus==="completed")("active",n.currentStatus==="processing"||n.currentStatus==="preparing"),p(5),L("completed",n.currentStatus==="delivering"||n.currentStatus==="completed"),p(),L("completed",n.currentStatus==="completed")("active",n.currentStatus==="delivering"),p(5),L("completed",n.currentStatus==="completed"),p(),L("active",n.currentStatus==="completed")("completed",n.currentStatus==="completed"))},dependencies:[z],styles:[".status-tracker-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;width:100%;padding:10px 0;overflow-x:auto}.step-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:80px;position:relative;flex-shrink:0}.step-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#e0e0e0;color:#9e9e9e;display:flex;align-items:center;justify-content:center;font-weight:700;border:3px solid #e0e0e0;transition:all .3s ease;font-size:14px}.step-label[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#9e9e9e;transition:color .3s ease}.step-line[_ngcontent-%COMP%]{flex-grow:1;height:4px;background-color:#e0e0e0;margin-top:16px;transition:background-color .3s ease;min-width:20px}.step-item.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background-color:#fff;border-color:var(--primary);color:var(--primary)}.step-item.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--primary);font-weight:700}.step-item.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background-color:var(--text-primary);border-color:var(--text-primary);color:#fff}.step-item.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--text-primary)}.step-line.completed[_ngcontent-%COMP%]{background-color:var(--text-primary)}"]})};function Mr(i,e){i&1&&(c(0,"div",8)(1,"p"),d(2,"Carregando pedidos..."),l()())}function wr(i,e){if(i&1&&(c(0,"div",9)(1,"mat-icon"),d(2,"error"),l(),c(3,"span"),d(4),l()()),i&2){let t=C();p(4),U(t.error)}}function Pr(i,e){i&1&&(c(0,"div",10)(1,"mat-icon"),d(2,"shopping_bag"),l(),c(3,"h2"),d(4,"Nenhum pedido encontrado"),l(),c(5,"p"),d(6,"Voc\xEA ainda n\xE3o fez nenhum pedido"),l(),c(7,"button",11)(8,"mat-icon"),d(9,"shopping_cart"),l(),d(10," Come\xE7ar a Comprar "),l()())}function Sr(i,e){if(i&1&&(c(0,"div",31)(1,"div",32)(2,"span",33),d(3),l(),c(4,"span",34),d(5),l(),c(6,"span",35),d(7),Ge(8,"number"),l()()()),i&2){let t=e.$implicit,n=C(3);p(3),x("",t.quantity,"x"),p(2),U(t.product==null?null:t.product.name),p(2),x("R$ ",We(8,3,n.getUnitPrice(t),"1.2-2")," cada")}}function Ir(i,e){if(i&1&&(c(0,"span"),d(1),l()),i&2){let t=C(2).$implicit;p(),x(", ",t.delivery_address.complement,"")}}function Or(i,e){if(i&1&&(c(0,"div",36)(1,"div",37)(2,"strong"),d(3,"Endere\xE7o de Entrega:"),l(),c(4,"p"),d(5),w(6,"br"),d(7),b(8,Ir,2,1,"span",38),l()()()),i&2){let t=C().$implicit;p(5),W(" ",t.delivery_address.street,", ",t.delivery_address.number," "),p(2),W(" ",t.delivery_address.neighborhood," - ",t.delivery_address.city," "),p(),u("ngIf",t.delivery_address.complement)}}function Dr(i,e){if(i&1&&(c(0,"span"),d(1," Expira em: "),c(2,"strong"),d(3),l()()),i&2){let t,n=C(2).$implicit,r=C(2);p(3),U(r.getTimeRemaining((t=r.getPayment(n))==null?null:t.expires_at))}}function Tr(i,e){i&1&&(c(0,"span",43),d(1," Expirado "),l())}function Br(i,e){if(i&1){let t=R();c(0,"button",44),D("click",function(){I(t);let r=C(2).$implicit,o=C(2);return O(o.openPixModal(r))}),c(1,"mat-icon"),d(2,"qr_code"),l(),d(3," Pagar Agora "),l()}}function Lr(i,e){if(i&1&&(c(0,"div",39)(1,"div",40)(2,"mat-icon"),d(3,"schedule"),l(),b(4,Dr,4,1,"span",38)(5,Tr,2,0,"span",41),l(),b(6,Br,4,0,"button",42),l()),i&2){let t,n,r,o,a=C().$implicit,s=C(2);p(),L("expired",s.isPixExpired((t=s.getPayment(a))==null?null:t.expires_at)),p(3),u("ngIf",!s.isPixExpired((n=s.getPayment(a))==null?null:n.expires_at)),p(),u("ngIf",s.isPixExpired((r=s.getPayment(a))==null?null:r.expires_at)),p(),u("ngIf",!s.isPixExpired((o=s.getPayment(a))==null?null:o.expires_at))}}function Ar(i,e){if(i&1){let t=R();c(0,"button",45),D("click",function(){I(t);let r=C().$implicit,o=C(2);return O(o.confirmarEntrega(r))}),c(1,"mat-icon"),d(2,"check_circle"),l(),d(3," Confirmar Recebimento "),l()}}function kr(i,e){if(i&1){let t=R();c(0,"div",14)(1,"div",15)(2,"div",16)(3,"h3"),d(4),l(),c(5,"p",17),d(6),l()(),c(7,"mat-chip"),d(8),l()(),c(9,"div",18),w(10,"app-order-status-tracker",19),l(),c(11,"div",20),b(12,Sr,9,6,"div",21),l(),b(13,Or,9,5,"div",22),c(14,"div",23)(15,"div",24)(16,"mat-icon"),d(17,"payment"),l(),c(18,"span"),d(19),l()(),c(20,"div",25)(21,"span"),d(22,"Total:"),l(),c(23,"span",26),d(24),Ge(25,"number"),l()()(),b(26,Lr,7,5,"div",27),c(27,"div",28),b(28,Ar,4,0,"button",29),c(29,"button",30),D("click",function(){let r=I(t).$implicit,o=C(2);return O(o.showOrderDetails(r))}),c(30,"mat-icon"),d(31,"visibility"),l(),d(32," Ver Detalhes "),l(),c(33,"button",30),D("click",function(){let r=I(t).$implicit,o=C(2);return O(o.openWhatsAppHelp(r))}),c(34,"mat-icon"),d(35,"help"),l(),d(36," Ajuda "),l()()()}if(i&2){let t,n=e.$implicit,r=C(2);p(4),x("Pedido #",n.order_number,""),p(2),U(r.formatDate(n.created_at||"")),p(),xe(r.getStatusClass(n.status)),p(),x(" ",r.getStatusLabel(n.status)," "),p(2),u("currentStatus",n.status),p(2),u("ngForOf",n.items),p(),u("ngIf",n.delivery_address),p(6),U(r.getPaymentMethodLabel(n)),p(5),x("R$ ",We(25,12,n.total_amount||n.total,"1.2-2"),""),p(2),u("ngIf",r.isPixPending(n)||n.status==="pending"&&((t=r.getPayment(n))==null||t.payment_method==null?null:t.payment_method.toLowerCase())==="pix"),p(2),u("ngIf",n.status==="delivering")}}function Rr(i,e){if(i&1&&(c(0,"div",12),b(1,kr,37,15,"div",13),l()),i&2){let t=C();p(),u("ngForOf",t.orders)}}var li=class i{constructor(e,t,n,r){this.orderService=e;this.dialog=t;this.snackBar=n;this.cdr=r}orders=[];loading=!0;error=null;countdownInterval;ngOnInit(){this.loadOrders(),this.startCountdown()}ngOnDestroy(){this.countdownInterval&&clearInterval(this.countdownInterval)}loadOrders(){this.loading=!0,this.error=null,console.log("OrdersListComponent: Loading orders..."),this.orderService.getOrders().subscribe({next:e=>{console.log("OrdersListComponent: Orders received:",e),this.orders=e,this.loading=!1,this.startCountdown()},error:e=>{console.error("OrdersListComponent: Error loading orders:",e),this.error=e.error?.message||"Erro ao carregar pedidos",this.loading=!1}})}startCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{this.cdr.detectChanges()},1e3)}getTimeRemaining(e){if(!e)return"";let t=new Date().getTime(),r=new Date(e).getTime()-t;if(r<=0)return"Expirado";let o=Math.floor(r/6e4),a=Math.floor(r%6e4/1e3);return`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}isPixExpired(e){if(!e)return!1;let t=new Date().getTime();return new Date(e).getTime()<=t}getPayment(e){if(e.payment){if(Array.isArray(e.payment)&&e.payment.length>0)return e.payment[0];if(!Array.isArray(e.payment))return e.payment}return e.payments&&e.payments.length>0?e.payments[0]:null}isPixPending(e){let t=this.getPayment(e);if(!t)return!1;let r=t.payment_method?.toLowerCase()==="pix",o=e.status==="pending"||e.status==="pending_pix",a=!this.isPixExpired(t.expires_at);return o&&r&&a}openPixModal(e){let t=this.getPayment(e);if(!t||!t.qr_code){this.snackBar.open("QR Code n\xE3o dispon\xEDvel para este pedido","Fechar",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"});return}this.dialog.open(je,{data:{qrCode:t.qr_code,expiresAt:t.expires_at},width:"500px",maxHeight:"90vh"})}getStatusLabel(e){return{pending:"Pendente",processing:"PIX Aprovado",preparing:"Em Preparo",delivering:"Em Entrega",paid:"Pago",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado",refunded:"Reembolsado",completed:"Conclu\xEDdo"}[e]||e}getStatusClass(e){return{pending:"status-pending",processing:"status-processing",preparing:"status-preparing",delivering:"status-delivering",paid:"status-paid",shipped:"status-shipped",delivered:"status-delivered",completed:"status-completed",cancelled:"status-cancelled",refunded:"status-refunded"}[e]||"status-default"}getPaymentMethodLabel(e){let t="";return e.payment_method?t=e.payment_method:e.payment?Array.isArray(e.payment)&&e.payment.length>0?t=e.payment[0].payment_method:Array.isArray(e.payment)||(t=e.payment.payment_method):e.payments&&e.payments.length>0&&(t=e.payments[0].payment_method),{pix:"PIX",cash:"Dinheiro",dinheiro:"Dinheiro",card:"Cart\xE3o",cartao:"Cart\xE3o",cart\u00E3o:"Cart\xE3o",credit_card:"Cart\xE3o de Cr\xE9dito",debit_card:"Cart\xE3o de D\xE9bito",credito:"Cart\xE3o de Cr\xE9dito",debito:"Cart\xE3o de D\xE9bito",credit:"Cart\xE3o de Cr\xE9dito",debit:"Cart\xE3o de D\xE9bito"}[t?.toLowerCase()]||t||"N\xE3o informado"}formatDate(e){return e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}formatCurrency(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}showOrderDetails(e){let t=this.dialog.open(Te,{data:{order:e,getStatusLabel:this.getStatusLabel.bind(this),getStatusClass:this.getStatusClass.bind(this),getPaymentMethodLabel:this.getPaymentMethodLabel.bind(this),formatDate:this.formatDate.bind(this),formatCurrency:this.formatCurrency.bind(this),getUnitPrice:this.getUnitPrice.bind(this),getItemSubtotal:this.getItemSubtotal.bind(this),confirmDelivery:n=>{this.orderService.confirmDelivery(n).subscribe({next:r=>{let o=this.orders.findIndex(a=>a.id===n);o!==-1&&(this.orders[o]=r),t.componentInstance&&(t.componentInstance.data.order=r,t.componentInstance.confirming=!1),this.loadOrders()},error:r=>{console.error("Erro ao confirmar entrega:",r),alert("Erro ao confirmar entrega. Tente novamente."),t.componentInstance&&(t.componentInstance.confirming=!1)}})}},width:"600px",maxHeight:"90vh"})}getUnitPrice(e){return e.unit_price?e.unit_price:e.price?e.price:e.total_price&&e.quantity?e.total_price/e.quantity:e.product?.price?e.product.price:0}getItemSubtotal(e){return e.total_price?e.total_price:e.subtotal?e.subtotal:e.price&&e.quantity?e.price*e.quantity:e.unit_price&&e.quantity?e.unit_price*e.quantity:0}confirmarEntrega(e){confirm("Voc\xEA confirma que recebeu seu pedido?")&&this.orderService.confirmDelivery(e.id).subscribe({next:n=>{e.status=n.status;let r=this.orders.findIndex(o=>o.id===e.id);r!==-1&&(this.orders[r]=n),this.snackBar.open("Pedido confirmado com sucesso!","Fechar",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})},error:n=>{console.error("Erro ao confirmar entrega:",n),this.snackBar.open("Erro ao confirmar o pedido. Tente novamente.","Fechar",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})}})}openWhatsAppHelp(e){let t=Ft.whatsappNumber,n=`Ol\xE1! Preciso de ajuda com o meu pedido N\xBA ${e.order_number}.`,r=encodeURIComponent(n),o=`https://wa.me/${t}?text=${r}`;window.open(o,"_blank")}static \u0275fac=function(t){return new(t||i)(P(Zt),P(tn),P(be),P(Lt))};static \u0275cmp=B({type:i,selectors:[["app-orders-list"]],decls:11,vars:4,consts:[[1,"orders-page"],[1,"container"],[1,"orders-header"],[1,"subtitle"],["class","loading",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","orders-list",4,"ngIf"],[1,"loading"],[1,"alert","alert-error"],[1,"empty-state"],["mat-raised-button","","color","primary","routerLink","/produtos"],[1,"orders-list"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-header"],[1,"order-info"],[1,"order-date"],[1,"order-status-section"],[3,"currentStatus"],[1,"order-items"],["class","order-item",4,"ngFor","ngForOf"],["class","delivery-address-section",4,"ngIf"],[1,"order-footer"],[1,"payment-info"],[1,"order-total"],[1,"total-value"],["class","pix-payment-section",4,"ngIf"],[1,"order-actions"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],[1,"order-item"],[1,"item-info"],[1,"item-quantity"],[1,"item-name"],[1,"item-unit-price"],[1,"delivery-address-section"],[1,"delivery-address"],[4,"ngIf"],[1,"pix-payment-section"],[1,"pix-countdown"],["class","expired-text",4,"ngIf"],["mat-raised-button","","color","primary","class","pix-pay-button",3,"click",4,"ngIf"],[1,"expired-text"],["mat-raised-button","","color","primary",1,"pix-pay-button",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d(4,"Meus Pedidos"),l(),c(5,"p",3),d(6,"Acompanhe o status dos seus pedidos"),l()(),b(7,Mr,3,0,"div",4)(8,wr,5,1,"div",5)(9,Pr,11,0,"div",6)(10,Rr,2,1,"div",7),l()()),t&2&&(p(7),u("ngIf",n.loading),p(),u("ngIf",n.error&&!n.loading),p(),u("ngIf",!n.loading&&!n.error&&n.orders.length===0),p(),u("ngIf",!n.loading&&!n.error&&n.orders.length>0))},dependencies:[z,ve,X,kt,qt,Nt,ee,Z,ne,te,Me,Gt,Ee,ie,Qe],styles:[".orders-page[_ngcontent-%COMP%]{padding:2rem 0;min-height:calc(100vh - 64px);background-color:var(--background)}.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:0 1rem}.orders-header[_ngcontent-%COMP%]{margin-bottom:2rem}.orders-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary);margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:2rem}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;border-radius:4px;margin-bottom:1rem}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.order-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--border-radius-md);padding:1.5rem;box-shadow:0 2px 8px #0000001a}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #eee}.order-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem}.order-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}mat-chip[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.status-pending[_ngcontent-%COMP%], .status-processing[_ngcontent-%COMP%], .status-preparing[_ngcontent-%COMP%], .status-delivering[_ngcontent-%COMP%]{background-color:#fff8e1;color:#856404}.status-paid[_ngcontent-%COMP%]{background-color:#e8e8e8;color:var(--text-primary)}.status-shipped[_ngcontent-%COMP%]{background-color:#fff8e1;color:#856404}.status-delivered[_ngcontent-%COMP%], .status-completed[_ngcontent-%COMP%]{background-color:#e8e8e8;color:var(--text-primary)}.status-cancelled[_ngcontent-%COMP%], .status-refunded[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.order-items[_ngcontent-%COMP%]{margin-bottom:1rem}.order-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0}.item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1}.item-quantity[_ngcontent-%COMP%]{font-weight:600;color:var(--primary);min-width:30px}.item-name[_ngcontent-%COMP%]{color:var(--text-primary);flex:1}.item-unit-price[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem;font-weight:500}.item-subtotal[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.order-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-top:1px solid #eee;margin-bottom:1rem}.payment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary)}.payment-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.order-total[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.total-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary)}.order-status-section[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background-color:var(--background);border-radius:var(--border-radius-md)}.delivery-address-section[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background-color:var(--background);border-radius:var(--border-radius-md);border-left:4px solid var(--primary)}.delivery-address[_ngcontent-%COMP%]{color:var(--text-primary)}.delivery-address[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--primary);font-size:.9rem}.delivery-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.875rem;line-height:1.5}.pix-payment-section[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem;background-color:#fff8e1;border-radius:var(--border-radius-md);border-left:4px solid var(--primary);display:flex;flex-direction:column;gap:1rem}.pix-countdown[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#856404;font-size:.95rem;font-weight:500}.pix-countdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.pix-countdown[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d9534f;font-size:1.1rem}.pix-countdown.expired[_ngcontent-%COMP%]{color:#721c24}.pix-countdown.expired[_ngcontent-%COMP%]   .expired-text[_ngcontent-%COMP%]{font-weight:600;color:#d9534f}.pix-pay-button[_ngcontent-%COMP%]{width:100%;font-weight:600}.pix-pay-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.order-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;flex-wrap:wrap}.order-actions[_ngcontent-%COMP%]   button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background-color:var(--primary);color:var(--secondary)}.order-actions[_ngcontent-%COMP%]   button[mat-raised-button][color=primary][_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.order-actions[_ngcontent-%COMP%]   button[mat-button][color=primary][_ngcontent-%COMP%]{color:var(--primary)}.order-actions[_ngcontent-%COMP%]   button[mat-button][color=primary][_ngcontent-%COMP%]:hover{background-color:#ffcc001a}@media (max-width: 768px){.order-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.order-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.order-actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};export{li as OrdersListComponent};
