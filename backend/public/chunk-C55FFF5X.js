import{Yc as i,Zc as p,cd as m,ga as n,la as o}from"./chunk-AFGHNMPW.js";var l=class a{constructor(e){this.http=e}apiUrl=`${m.apiUrl}/admin/users`;getUsers(e={}){let t=new i;return Object.entries(e).forEach(([s,r])=>{r!=null&&(t=t.set(s,r.toString()))}),this.http.get(this.apiUrl,{params:t})}getUser(e){return this.http.get(`${this.apiUrl}/${e}`)}createUser(e){let t=new FormData;return Object.entries(e).forEach(([s,r])=>{r!=null&&(s==="avatar"&&r instanceof File?t.append("avatar",r,r.name):s==="address"&&typeof r=="object"?t.append("address",JSON.stringify(r)):t.append(s,r.toString()))}),this.http.post(this.apiUrl,t)}updateUser(e){let t=new FormData;return Object.entries(e).forEach(([s,r])=>{r!=null&&(s==="avatar"&&r instanceof File?t.append("avatar",r,r.name):s==="address"&&typeof r=="object"?t.append("address",JSON.stringify(r)):t.append(s,r.toString()))}),t.append("_method","PUT"),this.http.post(`${this.apiUrl}/${e.id}`,t)}deleteUser(e){return this.http.delete(`${this.apiUrl}/${e}`)}toggleStatus(e){return this.http.patch(`${this.apiUrl}/${e}/toggle-status`,{})}uploadAvatar(e,t){let s=new FormData;return s.append("avatar",t,t.name),this.http.post(`${this.apiUrl}/${e}/avatar`,s)}deleteAvatar(e){return this.http.delete(`${this.apiUrl}/${e}/avatar`)}resetPassword(e){return this.http.post(`${this.apiUrl}/${e}/reset-password`,{})}validateEmail(e,t){let s=new i().set("email",e);return t&&(s=s.set("exclude_id",t.toString())),this.http.get(`${this.apiUrl}/validate-email`,{params:s})}getUserStats(e){return this.http.get(`${this.apiUrl}/${e}/stats`)}exportUsers(e="xlsx"){return this.http.get(`${this.apiUrl}/export`,{params:{format:e},responseType:"blob"})}importUsers(e){let t=new FormData;return t.append("file",e),this.http.post(`${this.apiUrl}/import`,t)}sendWelcomeEmail(e){return this.http.post(`${this.apiUrl}/${e}/send-welcome`,{})}updateStatus(e,t){return this.http.patch(`${this.apiUrl}/${e}/status`,{is_active:t})}resendVerificationEmail(e){return this.http.post(`${this.apiUrl}/${e}/resend-verification`,{})}static \u0275fac=function(t){return new(t||a)(o(p))};static \u0275prov=n({token:a,factory:a.\u0275fac,providedIn:"root"})};export{l as a};
