<div class="home-container">
  <!-- Banner Principal -->
  <section class="main-banner">
    <div class="container">
      <!-- Loading State -->
      <div *ngIf="loading.banners" class="loading-container">
        <div class="loading-spinner"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error.banners" class="error-message">
        {{ error.banners }}
      </div>

      <!-- Banner Carousel -->
      <app-banner-carousel 
        *ngIf="!loading.banners && !error.banners && banners.length > 0"
        [banners]="banners" 
        [autoPlay]="true" 
        [autoPlayInterval]="5000">
      </app-banner-carousel>

      <!-- Fallback quando n√£o h√° banners -->
      <div *ngIf="!loading.banners && !error.banners && banners.length === 0" class="no-banners">
        <h1>ADEGA GS</h1>
        <p>Delivery de bebidas na sua porta</p>
        <a routerLink="/produtos" class="cta-button">
          Pe√ßa Agora!
        </a>
      </div>
    </div>
  </section>

  <!-- Menu de Categorias -->
  <section class="categories-menu">
    <div class="container">
      <div class="section-header">
        <h2>Nosso Menu</h2>
        <a routerLink="/produtos" class="view-all">Ver Tudo</a>
      </div>
      
      <!-- Loading State -->
      <div *ngIf="loading.categories" class="loading-container">
        <div class="loading-spinner"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error.categories" class="error-message">
        {{ error.categories }}
      </div>

      <!-- Categories Grid -->
      <div *ngIf="!loading.categories && !error.categories" class="categories-grid">
        <!-- Categoria Combos -->
        <a routerLink="/combos" class="category-card combo-category">
          <div class="category-icon">
            <div class="combo-icon">üì¶</div>
          </div>
          <span class="category-name">Combos</span>
        </a>
        
        <!-- Outras Categorias -->
        <a *ngFor="let category of categories; trackBy: trackByCategoryId" 
           [routerLink]="['/produtos']" 
           [queryParams]="{categoria: category.id}" 
           class="category-card">
          <div class="category-icon">
            <img [src]="getCategoryImage(category)" [alt]="category.name">
          </div>
          <span class="category-name">{{ category.name }}</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Produtos em Destaque -->
  <section class="featured-products">
    <div class="container">
      <div class="section-header">
        <h2>Itens Em Destaque</h2>
        <a routerLink="/produtos" class="view-all">Ver Mais</a>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading.featured" class="loading-container">
        <div class="loading-spinner"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error.featured" class="error-message">
        {{ error.featured }}
      </div>

      <!-- Products Grid -->
      <div *ngIf="!loading.featured && !error.featured" class="products-grid">
        <div *ngFor="let product of featuredProducts; trackBy: trackByProductId" 
             class="product-card">
          <!-- Nome do Produto -->
          <h3 class="product-name">{{ product.name }}</h3>
          
          <!-- Imagem do Produto -->
          <div class="product-image-container">
            <img [src]="getProductImage(product)" [alt]="product.name" class="product-image">
          </div>

          <!-- Pre√ßos -->
          <div class="price-container">
            <div *ngIf="product.original_price && product.original_price > product.price" class="price-original">
              R$ {{ product.original_price | number:'1.2-2' }}
            </div>
            <div class="price-current">
              R$ {{ product.price | number:'1.2-2' }}
            </div>
          </div>

          <!-- Bot√£o Adicionar ao Carrinho -->
          <button (click)="addToCart(product)" class="add-to-cart-btn">
            <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
            <span>Adicionar</span>
          </button>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading.featured && !error.featured && featuredProducts.length === 0" 
           class="empty-state">
        Nenhum produto em destaque dispon√≠vel.
      </div>
    </div>
  </section>

  <!-- Combos em Destaque -->
  <section class="featured-combos" *ngIf="featuredCombos.length > 0">
    <div class="container">
      <div class="section-header">
        <h2>Combos Especiais</h2>
        <a routerLink="/combos" class="view-all">Ver Todos</a>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading.combos" class="loading-container">
        <div class="loading-spinner"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error.combos" class="error-message">
        {{ error.combos }}
      </div>

      <!-- Combos Grid -->
      <div *ngIf="!loading.combos && !error.combos" class="combos-grid">
        <app-combo-card 
          *ngFor="let combo of featuredCombos; trackBy: trackByComboId"
          [combo]="combo"
          (addToCart)="addComboToCart($event)">
        </app-combo-card>
      </div>
    </div>
  </section>

  <!-- Produtos Populares -->
  <section class="popular-products">
    <div class="container">
      <div class="section-header">
        <h2>Itens Mais Populares</h2>
        <a routerLink="/produtos" class="view-all">Ver Mais</a>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading.popular" class="loading-container">
        <div class="loading-spinner"></div>
      </div>

      <!-- Error State -->
      <div *ngIf="error.popular" class="error-message">
        {{ error.popular }}
      </div>

      <!-- Products Grid -->
      <div *ngIf="!loading.popular && !error.popular" class="products-grid">
        <div *ngFor="let product of popularProducts; trackBy: trackByProductId" 
             class="product-card">
          <!-- Nome do Produto -->
          <h3 class="product-name">{{ product.name }}</h3>
          
          <!-- Imagem do Produto -->
          <div class="product-image-container">
            <img [src]="getProductImage(product)" [alt]="product.name" class="product-image">
          </div>

          <!-- Pre√ßos -->
          <div class="price-container">
            <div *ngIf="product.original_price && product.original_price > product.price" class="price-original">
              R$ {{ product.original_price | number:'1.2-2' }}
            </div>
            <div class="price-current">
              R$ {{ product.price | number:'1.2-2' }}
            </div>
          </div>

          <!-- Bot√£o Adicionar ao Carrinho -->
          <button (click)="addToCart(product)" class="add-to-cart-btn">
            <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
            <span>Adicionar</span>
          </button>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading.popular && !error.popular && popularProducts.length === 0" 
           class="empty-state">
        Nenhum produto popular dispon√≠vel.
      </div>
    </div>
  </section>
</div>