<div class="pedidos-container">
  <!-- Sistema Kanban com abas -->
  <ng-container>
    <div class="header-section">
      <h1>üì¶ Controle de Pedidos</h1>
    </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Carregando pedidos...</p>
  </div>

    <!-- Main Content -->
    <div *ngIf="!loading" class="pedidos-content">
      <!-- Sistema Kanban com Abas -->
      <mat-card class="orders-card modern-card">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>list_alt</mat-icon>
            Lista de Pedidos
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <!-- Campo de Busca -->
          <div class="search-section">
            <mat-form-field appearance="outline" class="search-field">
              <mat-label>Buscar pedidos...</mat-label>
              <input matInput 
                     [(ngModel)]="searchTerm"
                     (ngModelChange)="onSearchChange($event)"
                     placeholder="N√∫mero do pedido ou nome do cliente">
              <mat-icon matSuffix *ngIf="!searching && !searchTerm">search</mat-icon>
              <mat-spinner matSuffix *ngIf="searching" diameter="20"></mat-spinner>
              <button mat-icon-button 
                      matSuffix 
                      *ngIf="searchTerm && !searching"
                      (click)="clearSearch()"
                      matTooltip="Limpar busca">
                <mat-icon>clear</mat-icon>
              </button>
            </mat-form-field>
          </div>

          <!-- Abas Kanban -->
          <mat-tab-group class="kanban-tabs" (selectedTabChange)="onTabChange($event)">
            <!-- Aba: Novos Pedidos -->
            <mat-tab label="Novos Pedidos">
              <ng-template mat-tab-label>
                Novos Pedidos
                <mat-badge *ngIf="pedidosNovos.length > 0" 
                          [matBadge]="pedidosNovos.length"
                          matBadgeColor="warn"
                          matBadgePosition="above after"
                          matBadgeSize="small"
                          class="tab-badge">
                </mat-badge>
              </ng-template>
              <div class="tab-content">
                <table mat-table [dataSource]="pedidosNovos" class="orders-table">
          <!-- ID -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>Pedido</th>
            <td mat-cell *matCellDef="let order">#{{order.order_number || order.id}}</td>
          </ng-container>

          <!-- Data -->
          <ng-container matColumnDef="created_at">
            <th mat-header-cell *matHeaderCellDef>Data</th>
            <td mat-cell *matCellDef="let order">{{formatDate(order.created_at)}}</td>
          </ng-container>

          <!-- Cliente -->
          <ng-container matColumnDef="customer">
            <th mat-header-cell *matHeaderCellDef>Cliente</th>
            <td mat-cell *matCellDef="let order">
              <div class="customer-info">
                <span class="name">{{order.user.name}}</span>
                <span class="email">{{order.user.email}}</span>
                <span *ngIf="order.user.phone" class="phone">{{order.user.phone}}</span>
              </div>
            </td>
          </ng-container>

          <!-- Endere√ßo -->
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Endere√ßo</th>
            <td mat-cell *matCellDef="let order">
              <div class="address-info" *ngIf="order.delivery_address; else noAddress">
                <span class="neighborhood">{{order.delivery_address.neighborhood}}</span>
                <span class="city">{{order.delivery_address.city}}</span>
                <span *ngIf="order.delivery_notes" class="notes">
                  <mat-icon>note</mat-icon>
                  {{order.delivery_notes}}
                </span>
              </div>
              <ng-template #noAddress>
                <span class="no-address">Sem endere√ßo</span>
              </ng-template>
            </td>
          </ng-container>

          <!-- Itens -->
          <ng-container matColumnDef="items">
            <th mat-header-cell *matHeaderCellDef>Itens</th>
            <td mat-cell *matCellDef="let order">
              <div class="items-preview">
                <span class="items-count">{{order.items.length}} {{order.items.length === 1 ? 'item' : 'itens'}}</span>
                <div class="items-summary">
                  <ng-container *ngFor="let item of order.items.slice(0, 2)">
                    <div class="item-detail">
                      <span class="item-quantity">{{item.quantity}}x</span>
                      <span class="item-name">
                        <ng-container *ngIf="item.is_combo && item.combo; else productName">
                          {{item.combo.name}}
                        </ng-container>
                        <ng-template #productName>
                          {{item.product?.name || 'Produto n√£o encontrado'}}
                        </ng-template>
                      </span>
                      <span class="item-price">{{formatCurrency(item.price || item.unit_price)}}</span>
                    </div>
                  </ng-container>
                  <small *ngIf="order.items.length > 2" class="more-items">+{{order.items.length - 2}} mais...</small>
                </div>
              </div>
            </td>
          </ng-container>

          <!-- Total -->
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef>Total</th>
            <td mat-cell *matCellDef="let order">{{formatCurrency(order.total)}}</td>
          </ng-container>

          <!-- Status -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let order">
              <mat-chip [style.background-color]="getStatusColor(order)"
                       [style.color]="'white'">
                {{getStatusLabel(order)}}
              </mat-chip>
            </td>
          </ng-container>

          <!-- A√ß√µes -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>A√ß√µes</th>
            <td mat-cell *matCellDef="let order">
              <div class="actions-container">
                <!-- Bot√µes de A√ß√£o R√°pida -->
                <button *ngIf="order.status === 'processing' || order.status === 'pending'"
                        (click)="quickUpdateStatus(order, 'preparing')"
                        class="btn btn-preparo"
                        matTooltip="Iniciar Preparo">
                  ‚ñ∂Ô∏è Iniciar Preparo
                </button>
                <button *ngIf="order.status === 'preparing'"
                        (click)="quickUpdateStatus(order, 'delivering')"
                        class="btn btn-entrega"
                        matTooltip="Sair para Entrega">
                  üöö Sair para Entrega
                </button>
                <button *ngIf="order.status === 'delivering'"
                        (click)="quickUpdateStatus(order, 'completed')"
                        class="btn btn-concluido"
                        matTooltip="Marcar como Conclu√≠do">
                  ‚úÖ Marcar como Conclu√≠do
                </button>
                
                <!-- Bot√µes de A√ß√£o Padr√£o -->
                <button mat-icon-button 
                        color="primary" 
                        (click)="showDetails(order)"
                        matTooltip="Ver Detalhes">
                  <mat-icon>visibility</mat-icon>
                </button>
                <button mat-icon-button 
                        color="accent" 
                        (click)="openManualStatusModal(order)"
                        [disabled]="order.status === 'completed' || order.status === 'cancelled'"
                        matTooltip="Editar Status">
                  <mat-icon>update</mat-icon>
                </button>
                <button mat-icon-button 
                        color="basic" 
                        (click)="printOrder(order)"
                        matTooltip="Imprimir Pedido">
                  <mat-icon>print</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- Empty State -->
                <div *ngIf="pedidosNovos.length === 0 && !loading" class="empty-state">
                  <mat-icon>receipt_long</mat-icon>
                  <p>Nenhum novo pedido no momento.</p>
                </div>
              </div>
            </mat-tab>

            <!-- Aba: Em Preparo -->
            <mat-tab label="Em Preparo">
              <ng-template mat-tab-label>
                Em Preparo
                <mat-badge *ngIf="pedidosEmPreparo.length > 0" 
                          [matBadge]="pedidosEmPreparo.length"
                          matBadgeColor="accent"
                          matBadgePosition="above after"
                          matBadgeSize="small"
                          class="tab-badge">
                </mat-badge>
              </ng-template>
              <div class="tab-content">
                <table mat-table [dataSource]="pedidosEmPreparo" class="orders-table">
                  <!-- Reutilizar as mesmas defini√ß√µes de colunas -->
                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Pedido</th>
                    <td mat-cell *matCellDef="let order">#{{order.order_number || order.id}}</td>
                  </ng-container>
                  <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef>Data</th>
                    <td mat-cell *matCellDef="let order">{{formatDate(order.created_at)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="customer">
                    <th mat-header-cell *matHeaderCellDef>Cliente</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="customer-info">
                        <span class="name">{{order.user.name}}</span>
                        <span class="email">{{order.user.email}}</span>
                        <span *ngIf="order.user.phone" class="phone">{{order.user.phone}}</span>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef>Endere√ßo</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="address-info" *ngIf="order.delivery_address; else noAddress">
                        <span class="neighborhood">{{order.delivery_address.neighborhood}}</span>
                        <span class="city">{{order.delivery_address.city}}</span>
                        <span *ngIf="order.delivery_notes" class="notes">
                          <mat-icon>note</mat-icon>
                          {{order.delivery_notes}}
                        </span>
                      </div>
                      <ng-template #noAddress>
                        <span class="no-address">Sem endere√ßo</span>
                      </ng-template>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="items">
                    <th mat-header-cell *matHeaderCellDef>Itens</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="items-preview">
                        <span class="items-count">{{order.items.length}} {{order.items.length === 1 ? 'item' : 'itens'}}</span>
                        <div class="items-summary">
                          <ng-container *ngFor="let item of order.items.slice(0, 2)">
                            <div class="item-detail">
                              <span class="item-quantity">{{item.quantity}}x</span>
                              <span class="item-name">
                                <ng-container *ngIf="item.is_combo && item.combo; else productName">
                                  {{item.combo.name}}
                                </ng-container>
                                <ng-template #productName>
                                  {{item.product?.name || 'Produto n√£o encontrado'}}
                                </ng-template>
                              </span>
                              <span class="item-price">{{formatCurrency(item.price || item.unit_price)}}</span>
                            </div>
                          </ng-container>
                          <small *ngIf="order.items.length > 2" class="more-items">+{{order.items.length - 2}} mais...</small>
                        </div>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef>Total</th>
                    <td mat-cell *matCellDef="let order">{{formatCurrency(order.total)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let order">
                      <mat-chip [style.background-color]="getStatusColor(order)"
                               [style.color]="'white'">
                        {{getStatusLabel(order)}}
                      </mat-chip>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef>A√ß√µes</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="actions-container">
                        <button *ngIf="order.status === 'preparing'"
                                (click)="quickUpdateStatus(order, 'delivering')"
                                class="btn btn-entrega"
                                matTooltip="Sair para Entrega">
                          üöö Sair para Entrega
                        </button>
                        <button mat-icon-button 
                                color="primary" 
                                (click)="showDetails(order)"
                                matTooltip="Ver Detalhes">
                          <mat-icon>visibility</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="accent" 
                                (click)="openManualStatusModal(order)"
                                [disabled]="order.status === 'completed' || order.status === 'cancelled'"
                                matTooltip="Editar Status">
                          <mat-icon>update</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="basic" 
                                (click)="printOrder(order)"
                                matTooltip="Imprimir Pedido">
                          <mat-icon>print</mat-icon>
                        </button>
                      </div>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- Empty State -->
                <div *ngIf="pedidosEmPreparo.length === 0 && !loading" class="empty-state">
                  <mat-icon>restaurant</mat-icon>
                  <p>Nenhum pedido em preparo no momento.</p>
                </div>
              </div>
            </mat-tab>

            <!-- Aba: Em Entrega -->
            <mat-tab label="Em Entrega">
              <ng-template mat-tab-label>
                Em Entrega
                <mat-badge *ngIf="pedidosEmEntrega.length > 0" 
                          [matBadge]="pedidosEmEntrega.length"
                          matBadgeColor="primary"
                          matBadgePosition="above after"
                          matBadgeSize="small"
                          class="tab-badge">
                </mat-badge>
              </ng-template>
              <div class="tab-content">
                <table mat-table [dataSource]="pedidosEmEntrega" class="orders-table">
                  <!-- Reutilizar as mesmas defini√ß√µes de colunas -->
                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Pedido</th>
                    <td mat-cell *matCellDef="let order">#{{order.order_number || order.id}}</td>
                  </ng-container>
                  <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef>Data</th>
                    <td mat-cell *matCellDef="let order">{{formatDate(order.created_at)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="customer">
                    <th mat-header-cell *matHeaderCellDef>Cliente</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="customer-info">
                        <span class="name">{{order.user.name}}</span>
                        <span class="email">{{order.user.email}}</span>
                        <span *ngIf="order.user.phone" class="phone">{{order.user.phone}}</span>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef>Endere√ßo</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="address-info" *ngIf="order.delivery_address; else noAddress">
                        <span class="neighborhood">{{order.delivery_address.neighborhood}}</span>
                        <span class="city">{{order.delivery_address.city}}</span>
                        <span *ngIf="order.delivery_notes" class="notes">
                          <mat-icon>note</mat-icon>
                          {{order.delivery_notes}}
                        </span>
                      </div>
                      <ng-template #noAddress>
                        <span class="no-address">Sem endere√ßo</span>
                      </ng-template>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="items">
                    <th mat-header-cell *matHeaderCellDef>Itens</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="items-preview">
                        <span class="items-count">{{order.items.length}} {{order.items.length === 1 ? 'item' : 'itens'}}</span>
                        <div class="items-summary">
                          <ng-container *ngFor="let item of order.items.slice(0, 2)">
                            <div class="item-detail">
                              <span class="item-quantity">{{item.quantity}}x</span>
                              <span class="item-name">
                                <ng-container *ngIf="item.is_combo && item.combo; else productName">
                                  {{item.combo.name}}
                                </ng-container>
                                <ng-template #productName>
                                  {{item.product?.name || 'Produto n√£o encontrado'}}
                                </ng-template>
                              </span>
                              <span class="item-price">{{formatCurrency(item.price || item.unit_price)}}</span>
                            </div>
                          </ng-container>
                          <small *ngIf="order.items.length > 2" class="more-items">+{{order.items.length - 2}} mais...</small>
                        </div>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef>Total</th>
                    <td mat-cell *matCellDef="let order">{{formatCurrency(order.total)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let order">
                      <mat-chip [style.background-color]="getStatusColor(order)"
                               [style.color]="'white'">
                        {{getStatusLabel(order)}}
                      </mat-chip>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef>A√ß√µes</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="actions-container">
                        <button *ngIf="order.status === 'delivering'"
                                (click)="quickUpdateStatus(order, 'completed')"
                                class="btn btn-concluido"
                                matTooltip="Marcar como Conclu√≠do">
                          ‚úÖ Marcar como Conclu√≠do
                        </button>
                        <button mat-icon-button 
                                color="primary" 
                                (click)="showDetails(order)"
                                matTooltip="Ver Detalhes">
                          <mat-icon>visibility</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="accent" 
                                (click)="openManualStatusModal(order)"
                                [disabled]="order.status === 'completed' || order.status === 'cancelled'"
                                matTooltip="Editar Status">
                          <mat-icon>update</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="basic" 
                                (click)="printOrder(order)"
                                matTooltip="Imprimir Pedido">
                          <mat-icon>print</mat-icon>
                        </button>
                      </div>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- Empty State -->
                <div *ngIf="pedidosEmEntrega.length === 0 && !loading" class="empty-state">
                  <mat-icon>local_shipping</mat-icon>
                  <p>Nenhum pedido em entrega no momento.</p>
                </div>
              </div>
            </mat-tab>

            <!-- Aba: Conclu√≠dos -->
            <mat-tab label="Conclu√≠dos">
              <ng-template mat-tab-label>
                Conclu√≠dos
                <mat-badge *ngIf="totalConcluidos > 0" 
                          [matBadge]="totalConcluidos"
                          matBadgeColor="primary"
                          matBadgePosition="above after"
                          matBadgeSize="small"
                          class="tab-badge">
                </mat-badge>
              </ng-template>
              <div *ngIf="concluidosLoading" class="tab-content">
                <p>Carregando hist√≥rico...</p>
              </div>
              <div *ngIf="!concluidosLoading" class="tab-content">
                <table *ngIf="pedidosConcluidos.length > 0; else noConcluidos" mat-table [dataSource]="pedidosConcluidos" class="orders-table">
                  <!-- Reutilizar as mesmas defini√ß√µes de colunas -->
                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Pedido</th>
                    <td mat-cell *matCellDef="let order">#{{order.order_number || order.id}}</td>
                  </ng-container>
                  <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef>Data</th>
                    <td mat-cell *matCellDef="let order">{{formatDate(order.created_at)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="customer">
                    <th mat-header-cell *matHeaderCellDef>Cliente</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="customer-info">
                        <span class="name">{{order.user.name}}</span>
                        <span class="email">{{order.user.email}}</span>
                        <span *ngIf="order.user.phone" class="phone">{{order.user.phone}}</span>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef>Endere√ßo</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="address-info" *ngIf="order.delivery_address; else noAddress">
                        <span class="neighborhood">{{order.delivery_address.neighborhood}}</span>
                        <span class="city">{{order.delivery_address.city}}</span>
                        <span *ngIf="order.delivery_notes" class="notes">
                          <mat-icon>note</mat-icon>
                          {{order.delivery_notes}}
                        </span>
                      </div>
                      <ng-template #noAddress>
                        <span class="no-address">Sem endere√ßo</span>
                      </ng-template>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="items">
                    <th mat-header-cell *matHeaderCellDef>Itens</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="items-preview">
                        <span class="items-count">{{order.items.length}} {{order.items.length === 1 ? 'item' : 'itens'}}</span>
                        <div class="items-summary">
                          <ng-container *ngFor="let item of order.items.slice(0, 2)">
                            <div class="item-detail">
                              <span class="item-quantity">{{item.quantity}}x</span>
                              <span class="item-name">
                                <ng-container *ngIf="item.is_combo && item.combo; else productName">
                                  {{item.combo.name}}
                                </ng-container>
                                <ng-template #productName>
                                  {{item.product?.name || 'Produto n√£o encontrado'}}
                                </ng-template>
                              </span>
                              <span class="item-price">{{formatCurrency(item.price || item.unit_price)}}</span>
                            </div>
                          </ng-container>
                          <small *ngIf="order.items.length > 2" class="more-items">+{{order.items.length - 2}} mais...</small>
                        </div>
                      </div>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="total">
                    <th mat-header-cell *matHeaderCellDef>Total</th>
                    <td mat-cell *matCellDef="let order">{{formatCurrency(order.total)}}</td>
                  </ng-container>
                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let order">
                      <mat-chip [style.background-color]="getStatusColor(order)"
                               [style.color]="'white'">
                        {{getStatusLabel(order)}}
                      </mat-chip>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef>A√ß√µes</th>
                    <td mat-cell *matCellDef="let order">
                      <div class="actions-container">
                        <button mat-icon-button 
                                color="primary" 
                                (click)="showDetails(order)"
                                matTooltip="Ver Detalhes">
                          <mat-icon>visibility</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="accent" 
                                (click)="openManualStatusModal(order)"
                                matTooltip="Editar Status">
                          <mat-icon>update</mat-icon>
                        </button>
                        <button mat-icon-button 
                                color="basic" 
                                (click)="printOrder(order)"
                                matTooltip="Imprimir Pedido">
                          <mat-icon>print</mat-icon>
                        </button>
                      </div>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- Pagina√ß√£o para Conclu√≠dos -->
                <mat-paginator 
                  *ngIf="!concluidosLoading && totalConcluidos > 0"
                  [length]="totalConcluidos"
                  [pageSize]="pageSizeConcluidos"
                  [pageIndex]="pageIndexConcluidos"
                  [pageSizeOptions]="[5, 10, 25, 50]"
                  (page)="onConcluidosPageChange($event)"
                  aria-label="Selecione a p√°gina de pedidos conclu√≠dos"
                  showFirstLastButtons>
                </mat-paginator>
                <ng-template #noConcluidos>
                  <div class="empty-state">
                    <mat-icon>check_circle</mat-icon>
                    <p>Nenhum pedido conclu√≠do encontrado.</p>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
          </mat-tab-group>
        </mat-card-content>
      </mat-card>
    </div>
  </ng-container>
</div>