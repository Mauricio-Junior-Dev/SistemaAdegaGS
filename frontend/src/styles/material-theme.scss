@use '@angular/material' as mat;

// Incluir componentes do Material
@include mat.core();

// Definir mapa de paleta personalizada - Laranja (Primária)
$custom-primary-palette: (
  50: #FFF3E9,
  100: #FFE0C2,
  200: #FFCC9A,
  300: #FFB873,
  400: #FFA84F,
  500: #FF9149, // cor principal
  600: #F27F3C,
  700: #E66F30,
  800: #D65F24,
  900: #C14A14,
  A100: #FFE0C2,
  A200: #FFCC9A,
  A400: #FFA84F,
  A700: #E66F30,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: rgba(black, 0.87),
    600: rgba(black, 0.87),
    700: rgba(black, 0.87),
    800: rgba(black, 0.87),
    900: rgba(black, 0.87),
    A100: rgba(black, 0.87),
    A200: rgba(black, 0.87),
    A400: rgba(black, 0.87),
    A700: rgba(black, 0.87),
  )
);

// Definir mapa de paleta de accent - Azul Claro (destaques)
$custom-accent-palette: (
  50: #E7F4FF,
  100: #C2E2FF,
  200: #9CCFFF,
  300: #76BCFF,
  400: #5FB2FB, // cor principal de accent
  500: #429AE2,
  600: #3380C0,
  700: #26669D,
  800: #1A4C7A,
  900: #0F3558,
  A100: #C2E2FF,
  A200: #9CCFFF,
  A400: #5FB2FB,
  A700: #26669D,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: white,
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: white,
    A200: white,
    A400: white,
    A700: white,
  )
);

// Definir paletas usando mat.m2-define-palette()
$custom-primary: mat.m2-define-palette($custom-primary-palette);
$custom-accent: mat.m2-define-palette($custom-accent-palette);
$custom-warn: mat.m2-define-palette(mat.$m2-red-palette);

// Criar tema
$custom-theme: mat.m2-define-light-theme((
  color: (
    primary: $custom-primary,
    accent: $custom-accent,
    warn: $custom-warn,
  ),
));

// Aplicar tema globalmente
@include mat.all-component-themes($custom-theme);

// Overrides específicos para campos de formulário
// Garantir que inputs não tenham background amarelo
.mdc-text-field {
  background-color: white !important;
}

.mdc-text-field__input {
  background-color: white !important;
  color: #212529 !important;
}

.mdc-text-field--filled {
  background-color: white !important;
}

.mdc-text-field--outlined {
  background-color: white !important;
}

.mdc-text-field--outlined .mdc-notched-outline {
  border-color: rgba(0, 0, 0, 0.12) !important;
}

.mdc-text-field--focused .mdc-notched-outline__leading,
.mdc-text-field--focused .mdc-notched-outline__notch,
.mdc-text-field--focused .mdc-notched-outline__trailing {
  border-color: var(--primary) !important;
}

.mdc-select {
  background-color: white !important;
}

.mdc-select__selected-text {
  color: #212529 !important;
}

.mdc-select--focused .mdc-notched-outline__leading,
.mdc-select--focused .mdc-notched-outline__notch,
.mdc-select--focused .mdc-notched-outline__trailing {
  border-color: var(--primary) !important;
}

// ==========================================
// CORREÇÃO GLOBAL: Labels flutuantes do Angular Material
// ==========================================
// Corrigir label flutuante para não ser cortado pela borda
.mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label {
  background-color: white !important;
  padding: 0 4px !important;
  margin-left: -4px !important;
  position: relative !important;
  z-index: 1 !important;
}

// Quando o label está flutuando (campo preenchido ou focado)
.mat-mdc-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-mdc-form-field-label,
.mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label-wrapper .mat-mdc-form-field-label {
  background-color: white !important;
  padding: 0 4px !important;
  margin-left: -4px !important;
  position: relative !important;
  z-index: 1 !important;
}

// Garantir que o label wrapper também tenha fundo branco
.mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label-wrapper {
  background-color: transparent !important;
}

// Ajuste para campos dentro de cards com fundo branco
.card .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label,
.white-background .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label {
  background-color: white !important;
}

// Ajuste para campos com fundo diferente (se necessário)
.bg-gray .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label,
.bg-light .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-label {
  background-color: #f5f5f5 !important;
}

// ==========================================
// CORREÇÃO: Padding compacto para inputs MDC
// ==========================================
// Reduzir padding horizontal dos inputs para layout mais compacto
.mat-mdc-form-field-appearance-outline .mdc-text-field__input {
  padding-left: 14px !important;
  padding-right: 14px !important;
}

// Ajuste específico para o infix (área interna do form-field)
.mat-mdc-form-field-appearance-outline .mat-mdc-form-field-infix {
  padding: 16px 0 !important;
  min-height: 56px !important;
}

// Reduzir padding quando há ícone prefix
.mat-mdc-form-field-appearance-outline .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-form-field-infix {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// Ajuste para campos com ícone prefix - reduzir padding esquerdo
.mat-mdc-form-field-appearance-outline .mat-icon.matPrefix ~ .mat-mdc-form-field-infix .mdc-text-field__input {
  padding-left: 8px !important;
}

// Garantir que o padding não seja excessivo em campos compactos
.checkout-container .mat-mdc-form-field-appearance-outline .mdc-text-field__input,
.card .mat-mdc-form-field-appearance-outline .mdc-text-field__input {
  padding-left: 14px !important;
  padding-right: 14px !important;
}

